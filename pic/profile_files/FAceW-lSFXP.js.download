;/*FB_PKG_DELIM*/

__d("LSFilteredThreadsRangesQuery",["LSGetCursor","LSIssueNewTaskAndGetTaskID"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return c.i64.neq(a[10],f)?d[0]=a[10]:d[0]=c.i64.cast([0,0]),a[11]!==f?d[1]=a[11]:d[1]="",(a[2]&&c.i64.neq(a[7],f)&&c.i64.neq(a[4],f)||a[3]&&c.i64.neq(a[6],f)&&c.i64.neq(a[5],f))&&!(a[2]&&c.i64.neq(a[7],f)&&c.i64.neq(a[4],f)&&a[3]&&c.i64.neq(a[6],f)&&c.i64.neq(a[5],f))?c.seq([function(e){return d[3]=a[4]==null?c.i64.cast([-2147483648,0]):a[4],d[4]=a[7]==null?c.i64.cast([0,1]):a[7],d[10]=c.i64.gt(d[4],c.i64.cast([0,1]))&&c.i64.gt(d[3],c.i64.cast([-2147483648,0])),c.sp(b("LSGetCursor"),c.i64.cast([0,1])).then(function(a){return a=a,d[2]=a[0],a})},function(e){return d[5]=new c.Map(),d[5].set("cursor",d[2]),d[5].set("filter",a[1]),d[5].set("is_after",a[3]),d[5].set("parent_thread_key",a[0]),d[5].set("reference_activity_timestamp",a[3]?a[6]:a[7]),d[5].set("reference_thread_key",a[3]?a[5]:a[4]),d[5].set("secondary_filter",d[0]),d[5].set("filter_value",d[1]),d[5].set("sync_group",c.i64.cast([0,1])),c.i64.gt(c.i64.cast([0,0]),c.i64.cast([0,0]))?(d[11]=c.i64.of_float(Date.now()),d[6]=c.i64.add(d[11],c.i64.cast([0,0]))):d[6]=c.i64.cast([0,0]),d[7]=c.toJSON(d[5]),c.sp(b("LSIssueNewTaskAndGetTaskID"),"trq",c.i64.cast([0,313]),d[7],f,f,c.i64.cast([0,0]),c.i64.cast([0,0]),f,f,d[6]).then(function(a){return a=a,d[8]=a[0],a})},function(b){return c.ftr(c.db.table(247).fetch([[[a[0]]]]),function(b){return c.i64.eq(b.parentThreadKey,a[0])&&c.i64.eq(b.threadRangeFilter,a[1])&&c.i64.eq(b.secondaryThreadRangeFilter,d[0])&&b.threadRangeFilterValue===d[1]}).next().then(function(b,e){e=b.done;b=b.value;return e?c.db.table(247).add({folderName:"",parentThreadKey:a[0],minThreadKey:d[3]==null?c.i64.cast([-2147483648,0]):d[3],minLastActivityTimestampMs:d[4]==null?c.i64.cast([0,1]):d[4],threadRangeFilter:a[1],secondaryThreadRangeFilter:d[0],threadRangeFilterValue:d[1],maxLastActivityTimestampMs:c.i64.cast([0,1]),maxThreadKey:c.i64.cast([-2147483648,0]),isLoadingBefore:d[10],isLoadingAfter:!1,hasMoreBefore:d[10],hasMoreAfter:!1}):(b.item,c.fe(c.ftr(c.db.table(247).fetch([[[a[0]]]]),function(b){return c.i64.eq(b.parentThreadKey,a[0])&&c.i64.eq(b.threadRangeFilter,a[1])&&c.i64.eq(b.secondaryThreadRangeFilter,d[0])&&b.threadRangeFilterValue===d[1]}),function(a){var b=a.update;a.item;return b({isLoadingBefore:!0,isLoadingAfter:!1,hasMoreBefore:d[10],hasMoreAfter:!1})}))})}]):c.resolve()},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("LSClearTables",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(a){return b.seq([function(a){return b.fe(b.db.table(67).fetch(),function(a){return a["delete"]()})},function(a){return b.fe(b.db.table(66).fetch(),function(a){return a["delete"]()})},function(a){return b.fe(b.db.table(65).fetch(),function(a){return a["delete"]()})},function(a){return b.fe(b.db.table(69).fetch(),function(a){return a["delete"]()})}])},function(a){return b.resolve(c)}])}b=a;f["default"]=b}),66);
__d("LSInsertRankingContacts",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return d[0]=new c.Map(),d[0].set("limit",a[0]),d[1]=c.createArray(),d[5]=(d[1].push("search_contacts"),d[1]),d[2]=c.i64.of_float(Date.now()),d[5]=(d[1].push(c.i64.to_string(d[2])),d[1]),d[3]=c.toJSON(d[1]),d[4]=c.toJSON(d[0]),c.sp(b("LSIssueNewTask"),d[3],c.i64.cast([0,452]),d[4],f,f,c.i64.cast([0,0]),c.i64.cast([0,0]),f,f,c.i64.cast([0,0]))},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("LSIssueSearchQuery",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return c.db.table(67).fetch([[[a[0]]]]).next().then(function(e,g){g=e.done;e=e.value;return g?c.seq([function(b){return d[1]=c.i64.of_float(Date.now()),c.db.table(67).add({query:a[0],statusPrimary:c.i64.cast([0,1]),statusSecondary:c.i64.cast([0,1]),startTimeMs:d[1]})},function(e){return d[2]=new c.Map(),d[2].set("query",a[0]),d[2].set("supported_types",a[1]),d[2].set("session_id",a[2]),d[2].set("surface_type",a[3]),d[2].set("group_id",a[4]),d[2].set("thread_id",a[5]),d[3]=c.createArray(),d[9]=(d[3].push("search_primary"),d[3]),d[4]=c.i64.of_float(Date.now()),d[9]=(d[3].push(c.i64.to_string(d[4])),d[3]),d[5]=c.toJSON(d[3]),d[6]=c.toJSON(d[2]),c.sp(b("LSIssueNewTask"),d[5],c.i64.cast([0,30]),d[6],f,f,c.i64.cast([0,0]),c.i64.cast([0,0]),f,f,c.i64.cast([0,0]))},function(e){return d[7]=new c.Map(),d[7].set("query",a[0]),d[7].set("supported_types",a[1]),d[7].set("session_id",a[2]),d[7].set("surface_type",a[3]),d[7].set("group_id",a[4]),d[7].set("thread_id",a[5]),d[8]=c.toJSON(d[7]),c.sp(b("LSIssueNewTask"),"search_secondary",c.i64.cast([0,31]),d[8],f,f,c.i64.cast([0,0]),c.i64.cast([0,0]),f,f,c.i64.cast([0,0]))}]):(e.item,0)})},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("CometMessagingJewelCommunitiesQPBannerContainerQuery.graphql",["CometMessagingJewelCommunitiesQPBannerContainerQuery_facebookRelayOperation","relay-runtime"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"Literal",name:"surface_nux_id",value:10713},{kind:"Literal",name:"trigger",value:"MESSAGING_JEWEL_COMMUNITIES_TAB_OPEN"}],c=[{kind:"Literal",name:"supported",value:["CometQuickPromotionMessengerWebCommunitiesBannerRendererStrategy"]}],d={kind:"InlineFragment",selections:[{args:null,documentName:"CometMessagingJewelCommunitiesQPBannerContainerQuery",fragmentName:"CometQuickPromotionMessengerWebCommunitiesBannerRendererStrategy_quickPromotionRef",fragmentPropName:"quickPromotionRef",kind:"ModuleImport"}],type:"CometQuickPromotionMessengerWebCommunitiesBannerRendererStrategy",abstractKey:null};return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometMessagingJewelCommunitiesQPBannerContainerQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:a,concreteType:"ViewerEligibleQuickPromotionsConnection",kind:"LinkedField",name:"eligible_promotions",plural:!1,selections:[{alias:null,args:null,concreteType:"QuickPromotion",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,concreteType:"CometQuickPromotionSections",kind:"LinkedField",name:"comet_qp_sections",plural:!1,selections:[{alias:null,args:c,concreteType:null,kind:"LinkedField",name:"renderer_strategy",plural:!1,selections:[d],storageKey:'renderer_strategy(supported:["CometQuickPromotionMessengerWebCommunitiesBannerRendererStrategy"])'}],storageKey:null}],storageKey:null}],storageKey:'eligible_promotions(surface_nux_id:10713,trigger:"MESSAGING_JEWEL_COMMUNITIES_TAB_OPEN")'}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"CometMessagingJewelCommunitiesQPBannerContainerQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:a,concreteType:"ViewerEligibleQuickPromotionsConnection",kind:"LinkedField",name:"eligible_promotions",plural:!1,selections:[{alias:null,args:null,concreteType:"QuickPromotion",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,concreteType:"CometQuickPromotionSections",kind:"LinkedField",name:"comet_qp_sections",plural:!1,selections:[{alias:null,args:c,concreteType:null,kind:"LinkedField",name:"renderer_strategy",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},d],storageKey:'renderer_strategy(supported:["CometQuickPromotionMessengerWebCommunitiesBannerRendererStrategy"])'}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:'eligible_promotions(surface_nux_id:10713,trigger:"MESSAGING_JEWEL_COMMUNITIES_TAB_OPEN")'}],storageKey:null}]},params:{id:b("CometMessagingJewelCommunitiesQPBannerContainerQuery_facebookRelayOperation"),metadata:{},name:"CometMessagingJewelCommunitiesQPBannerContainerQuery",operationKind:"query",text:null}}}();b("relay-runtime").PreloadableQueryRegistry.set(a.params.id,a);e.exports=a}),null);
__d("CometMessagingJewelDropdownQPBannerContainerQuery.graphql",["CometMessagingJewelDropdownQPBannerContainerQuery_facebookRelayOperation","relay-runtime"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"Literal",name:"surface_nux_id",value:8439},{kind:"Literal",name:"trigger",value:"MESSAGING_JEWEL_OPEN"}],c=[{kind:"Literal",name:"supported",value:["CometQuickPromotionMessengerDesktopDownloadBannerRendererStrategy","CometQuickPromotionMessengerDesktopDownloadBannerInstructorBeforeClassRendererStrategy","CometQuickPromotionMessengerDesktopDownloadBannerInstructorAfterClassRendererStrategy","CometQuickPromotionMessengerDesktopDownloadBannerLearnerBeforeClassRendererStrategy","CometQuickPromotionMessengerDesktopDownloadBannerLearnerAfterClassRendererStrategy","CometQuickPromotionMessengerWebEPDBannerRendererStrategy","CometQuickPromotionMessengerWebPrivacyPolicyNoticeBannerRendererStrategy","CometQuickPromotionArmadilloSecurityAlertsSettingsDefaultOffBannerRendererStrategy"]}],d={kind:"InlineFragment",selections:[{args:null,documentName:"CometMessagingJewelDropdownQPBannerContainerQuery",fragmentName:"CometQuickPromotionMessengerDesktopDownloadBannerRendererStrategy_cometQuickPromotionBaseStrategy",fragmentPropName:"cometQuickPromotionBaseStrategy",kind:"ModuleImport"}],type:"CometQuickPromotionMessengerDesktopDownloadBannerRendererStrategy",abstractKey:null},e={kind:"InlineFragment",selections:[{args:null,documentName:"CometMessagingJewelDropdownQPBannerContainerQuery",fragmentName:"CometQuickPromotionMessengerDesktopDownloadBannerInstructorBeforeClassRendererStrategy_cometQuickPromotionBaseStrategy",fragmentPropName:"cometQuickPromotionBaseStrategy",kind:"ModuleImport"}],type:"CometQuickPromotionMessengerDesktopDownloadBannerInstructorBeforeClassRendererStrategy",abstractKey:null},f={kind:"InlineFragment",selections:[{args:null,documentName:"CometMessagingJewelDropdownQPBannerContainerQuery",fragmentName:"CometQuickPromotionMessengerDesktopDownloadBannerInstructorAfterClassRendererStrategy_cometQuickPromotionBaseStrategy",fragmentPropName:"cometQuickPromotionBaseStrategy",kind:"ModuleImport"}],type:"CometQuickPromotionMessengerDesktopDownloadBannerInstructorAfterClassRendererStrategy",abstractKey:null},g={kind:"InlineFragment",selections:[{args:null,documentName:"CometMessagingJewelDropdownQPBannerContainerQuery",fragmentName:"CometQuickPromotionMessengerDesktopDownloadBannerLearnerBeforeClassRendererStrategy_cometQuickPromotionBaseStrategy",fragmentPropName:"cometQuickPromotionBaseStrategy",kind:"ModuleImport"}],type:"CometQuickPromotionMessengerDesktopDownloadBannerLearnerBeforeClassRendererStrategy",abstractKey:null},h={kind:"InlineFragment",selections:[{args:null,documentName:"CometMessagingJewelDropdownQPBannerContainerQuery",fragmentName:"CometQuickPromotionMessengerDesktopDownloadBannerLearnerAfterClassRendererStrategy_cometQuickPromotionBaseStrategy",fragmentPropName:"cometQuickPromotionBaseStrategy",kind:"ModuleImport"}],type:"CometQuickPromotionMessengerDesktopDownloadBannerLearnerAfterClassRendererStrategy",abstractKey:null},i={kind:"InlineFragment",selections:[{args:null,documentName:"CometMessagingJewelDropdownQPBannerContainerQuery",fragmentName:"CometQuickPromotionMessengerWebEPDBannerRendererStrategy_cometQuickPromotionBaseStrategy",fragmentPropName:"cometQuickPromotionBaseStrategy",kind:"ModuleImport"}],type:"CometQuickPromotionMessengerWebEPDBannerRendererStrategy",abstractKey:null},j={kind:"InlineFragment",selections:[{args:null,documentName:"CometMessagingJewelDropdownQPBannerContainerQuery",fragmentName:"CometQuickPromotionMessengerWebPrivacyPolicyNoticeBannerRendererStrategy_quickPromotionRef",fragmentPropName:"quickPromotionRef",kind:"ModuleImport"}],type:"CometQuickPromotionMessengerWebPrivacyPolicyNoticeBannerRendererStrategy",abstractKey:null},k={kind:"InlineFragment",selections:[{args:null,documentName:"CometMessagingJewelDropdownQPBannerContainerQuery",fragmentName:"CometQuickPromotionArmadilloSecurityAlertsSettingsDefaultOffBannerRendererStrategy_cometQuickPromotionBaseStrategy",fragmentPropName:"cometQuickPromotionBaseStrategy",kind:"ModuleImport"}],type:"CometQuickPromotionArmadilloSecurityAlertsSettingsDefaultOffBannerRendererStrategy",abstractKey:null};return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometMessagingJewelDropdownQPBannerContainerQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:a,concreteType:"ViewerEligibleQuickPromotionsConnection",kind:"LinkedField",name:"eligible_promotions",plural:!1,selections:[{alias:null,args:null,concreteType:"QuickPromotion",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,concreteType:"CometQuickPromotionSections",kind:"LinkedField",name:"comet_qp_sections",plural:!1,selections:[{alias:null,args:c,concreteType:null,kind:"LinkedField",name:"renderer_strategy",plural:!1,selections:[d,e,f,g,h,i,j,k],storageKey:'renderer_strategy(supported:["CometQuickPromotionMessengerDesktopDownloadBannerRendererStrategy","CometQuickPromotionMessengerDesktopDownloadBannerInstructorBeforeClassRendererStrategy","CometQuickPromotionMessengerDesktopDownloadBannerInstructorAfterClassRendererStrategy","CometQuickPromotionMessengerDesktopDownloadBannerLearnerBeforeClassRendererStrategy","CometQuickPromotionMessengerDesktopDownloadBannerLearnerAfterClassRendererStrategy","CometQuickPromotionMessengerWebEPDBannerRendererStrategy","CometQuickPromotionMessengerWebPrivacyPolicyNoticeBannerRendererStrategy","CometQuickPromotionArmadilloSecurityAlertsSettingsDefaultOffBannerRendererStrategy"])'}],storageKey:null}],storageKey:null}],storageKey:'eligible_promotions(surface_nux_id:8439,trigger:"MESSAGING_JEWEL_OPEN")'}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"CometMessagingJewelDropdownQPBannerContainerQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:a,concreteType:"ViewerEligibleQuickPromotionsConnection",kind:"LinkedField",name:"eligible_promotions",plural:!1,selections:[{alias:null,args:null,concreteType:"QuickPromotion",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,concreteType:"CometQuickPromotionSections",kind:"LinkedField",name:"comet_qp_sections",plural:!1,selections:[{alias:null,args:c,concreteType:null,kind:"LinkedField",name:"renderer_strategy",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},d,e,f,g,h,i,j,k],storageKey:'renderer_strategy(supported:["CometQuickPromotionMessengerDesktopDownloadBannerRendererStrategy","CometQuickPromotionMessengerDesktopDownloadBannerInstructorBeforeClassRendererStrategy","CometQuickPromotionMessengerDesktopDownloadBannerInstructorAfterClassRendererStrategy","CometQuickPromotionMessengerDesktopDownloadBannerLearnerBeforeClassRendererStrategy","CometQuickPromotionMessengerDesktopDownloadBannerLearnerAfterClassRendererStrategy","CometQuickPromotionMessengerWebEPDBannerRendererStrategy","CometQuickPromotionMessengerWebPrivacyPolicyNoticeBannerRendererStrategy","CometQuickPromotionArmadilloSecurityAlertsSettingsDefaultOffBannerRendererStrategy"])'}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:'eligible_promotions(surface_nux_id:8439,trigger:"MESSAGING_JEWEL_OPEN")'}],storageKey:null}]},params:{id:b("CometMessagingJewelDropdownQPBannerContainerQuery_facebookRelayOperation"),metadata:{},name:"CometMessagingJewelDropdownQPBannerContainerQuery",operationKind:"query",text:null}}}();b("relay-runtime").PreloadableQueryRegistry.set(a.params.id,a);e.exports=a}),null);
__d("MWCreateSocialChannelDialogQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="6534507706582748"}),null);
__d("MWCreateSocialChannelDialogQuery$Parameters",["MWCreateSocialChannelDialogQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("MWCreateSocialChannelDialogQuery_facebookRelayOperation"),metadata:{},name:"MWCreateSocialChannelDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("MessengerGroup.svg.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){return h.jsxs("svg",babelHelpers["extends"]({fill:"currentColor",viewBox:"0 0 26 19",width:"1em",height:"1em"},a,{children:[a.title!=null&&h.jsx("title",{children:a.title}),a.children!=null&&h.jsx("defs",{children:a.children}),h.jsx("path",{d:"M13 10c-2.13 0-3.96-1.5-3.96-4.75C9.04 2.6 10.71.83 13 .83c2.3 0 3.96 1.77 3.96 4.42C16.96 8.51 15.13 10 13 10zm6.62 8.33c.57 0 .88-.5.88-1.1 0-3.08-3.47-5.56-7.5-5.56-4.03 0-7.5 2.48-7.5 5.55 0 .62.3 1.11.88 1.11h13.24zm2.55-7.5c-1.57 0-2.92-1.08-2.92-3.45 0-1.93 1.23-3.21 2.92-3.21s2.91 1.28 2.91 3.21c0 2.37-1.34 3.45-2.91 3.45zm.81 6.67a.83.83 0 0 1-.83-.72l-.01-.11a6.3 6.3 0 0 0-1.7-3.65c-.2-.22-.14-.57.14-.67a4.95 4.95 0 0 1 1.59-.27c1.66 0 3.33.84 3.33 2.5 0 2.92-2.08 2.92-2.08 2.92h-.44zM.92 7.38c0 2.37 1.34 3.45 2.91 3.45s2.92-1.08 2.92-3.45c0-1.93-1.23-3.21-2.92-3.21S.92 5.45.92 7.38zm2.1 10.12h-.44S.5 17.5.5 14.58c0-1.66 1.67-2.5 3.33-2.5.54 0 1.08.1 1.6.27.27.1.33.45.13.67a6.3 6.3 0 0 0-1.7 3.65l-.01.1a.83.83 0 0 1-.83.73z"})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("CometMessagingJewelCommunitiesQPBannerContainer.react",["CometMessagingJewelCommunitiesQPBannerContainerQuery.graphql","CometMessagingJewelDropdownQPBannerPlaceholder.react","CometPlaceholder.react","CometQuickPromotionLoggerContext.react","CometRelay","react","useQuickPromotionFalcoEvent"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("react");function a(a){var e=a.messagingEntryPoint,f=a.onClose;a=a.queryRef;a=d("CometRelay").usePreloadedQuery(h!==void 0?h:h=b("CometMessagingJewelCommunitiesQPBannerContainerQuery.graphql"),a);var g=c("useQuickPromotionFalcoEvent")({context_surface_id:10713,context_trigger:"messaging_jewel_communities_tab_open"});a=a==null?void 0:(a=a.viewer)==null?void 0:(a=a.eligible_promotions)==null?void 0:(a=a.nodes)==null?void 0:a.find(function(a){return((a=a.comet_qp_sections)==null?void 0:a.renderer_strategy)!=null});a=a==null?void 0:(a=a.comet_qp_sections)==null?void 0:a.renderer_strategy;return a==null?null:i.jsx(c("CometPlaceholder.react"),{fallback:i.jsx(c("CometMessagingJewelDropdownQPBannerPlaceholder.react"),{}),children:i.jsx(c("CometQuickPromotionLoggerContext.react").Provider,{value:g,children:i.jsx(d("CometRelay").MatchContainer,{match:a,props:{messagingEntryPoint:e,onClose:f}})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometMessagingJewelDropdownQPBannerContainer.react",["CometMessagingJewelDropdownQPBannerContainerQuery.graphql","CometMessagingJewelDropdownQPBannerPlaceholder.react","CometPlaceholder.react","CometQuickPromotionLoggerContext.react","CometRelay","react","useQuickPromotionFalcoEvent"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("react");function a(a){a=a.queryRef;a=d("CometRelay").usePreloadedQuery(h!==void 0?h:h=b("CometMessagingJewelDropdownQPBannerContainerQuery.graphql"),a);var e=c("useQuickPromotionFalcoEvent")({context_surface_id:8439,context_trigger:"messaging_jewel_open"});a=a==null?void 0:(a=a.viewer)==null?void 0:(a=a.eligible_promotions)==null?void 0:(a=a.nodes)==null?void 0:a.find(function(a){return((a=a.comet_qp_sections)==null?void 0:a.renderer_strategy)!=null});a=a==null?void 0:(a=a.comet_qp_sections)==null?void 0:a.renderer_strategy;return a==null?null:i.jsx(c("CometPlaceholder.react"),{fallback:i.jsx(c("CometMessagingJewelDropdownQPBannerPlaceholder.react"),{}),children:i.jsx(c("CometQuickPromotionLoggerContext.react").Provider,{value:e,children:i.jsx(d("CometRelay").MatchContainer,{match:a})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatSearchClearSearchResults.bs",["LSClearTables","LSFactory","promiseDone","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(){var a=c("useReStore")();return h.useCallback(function(){var b=a.runInTransaction(function(a){return c("LSClearTables")(c("LSFactory")(a))},"readwrite");c("promiseDone")(b)},[a])}g.useHook=a}),98);
__d("MWInboxContextSwitcherGlimmer.react",["CometGlimmer.react","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={tabPlaceholder:{borderTopStartRadius:"x1tlxs6b",borderTopEndRadius:"x1g8br2z",borderBottomEndRadius:"x1gn5b1j",borderBottomStartRadius:"x230xth",display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",justifyContent:"xl56j7k",$$css:!0},tabPlaceholderRoot:{display:"x78zum5",minHeight:"xu0aao5",paddingStart:"x1swvt13",paddingEnd:"x1pi30zi",paddingTop:"x1y1aw1k",paddingBottom:"xwib8y2",width:"x3bhodz",$$css:!0}};function a(a){a=a.xstyle;a=a===void 0?i.tabPlaceholderRoot:a;return h.jsx("div",{className:c("stylex")(a),children:h.jsx(c("CometGlimmer.react"),{index:0,xstyle:i.tabPlaceholder})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWInboxQuickPromotionWrapper.react",["CometErrorBoundary.react","CometPlaceholder.react","cr:6406","deferredLoadComponent","react","requireDeferredForDisplay"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=c("deferredLoadComponent")(c("requireDeferredForDisplay")("MAWUserVisibleErrorsNuxWrapper.react").__setRef("MWInboxQuickPromotionWrapper.react")),j=(e=b("cr:6406"))!=null?e:h.Fragment;function a(a){var b=a.children;a=a.onError;return h.jsx(c("CometErrorBoundary.react"),{onError:a,children:h.jsx(c("CometPlaceholder.react"),{fallback:null,children:h.jsx(i,{children:h.jsx(j,{children:b})})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWJewelDropdownHeaderOpenInAppButton.react",["fbt","ix","Actor","CometTooltip.react","ImageIconSource","MessengerDesktopDeeplinkEventFalcoEvent","TetraCircleButton.react","XMessengerDotComDesktopLaunchAppInterstitialControllerRouteBuilder","react","useCurrentDisplayMode","uuidv4"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react");b=d("react");var k=b.useEffect,l=b.useRef;function a(a){var b=d("Actor").useActor();b=b[0];var e=l(!1),f=l(c("uuidv4")()).current,g=c("useCurrentDisplayMode")();g=g==="dark";k(function(){e.current||(e.current=!0,c("MessengerDesktopDeeplinkEventFalcoEvent").log(function(){return{event:"open_in_app_button_impression",eventLocation:"browser",eventType:"thread",funnelSessionId:f,mobile_app_source:"unknown"}}))});var m=h._("__JHASH___3DTfSod6m3__JHASH__");b=(b=c("XMessengerDotComDesktopLaunchAppInterstitialControllerRouteBuilder").buildUri({funnel_session_id:f,id:b,origin:"FB"}).setDomain("messenger.com"))==null?void 0:(b=b.setProtocol("https"))==null?void 0:b.toString();g=g?new(c("ImageIconSource"))(i("2009370"),32,32):new(c("ImageIconSource"))(i("1996477"),32,32);return j.jsx(c("CometTooltip.react"),{align:"end",tooltip:m,children:j.jsx(c("TetraCircleButton.react"),{color:"secondary",icon:g,label:m,linkProps:{url:b},onPress:function(){c("MessengerDesktopDeeplinkEventFalcoEvent").log(function(){return{event:"open_in_app_button_click",eventLocation:"browser",eventType:"thread",funnelSessionId:f,mobile_app_source:"unknown"}}),a.onClose()},size:32,testid:void 0,type:"deemphasized"})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWJewelDropdownHeaderOpenInAppLocalhostWithFallbackButton.react",["fbt","ix","CometTooltip.react","ImageIconSource","MessengerDesktopDeepLinkUtils","MessengerDesktopDeeplinkEventFalcoEvent","MessengerDesktopLocalServerRequest","ODS","Promise","TetraCircleButton.react","goUriOnNewWindow","promiseDone","react","useCurrentDisplayMode","uuidv4"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react");e=d("react");var k=e.useEffect,l=e.useRef;function a(a){var e=l(!1),f=l(c("uuidv4")()).current,g=c("useCurrentDisplayMode")();g=g==="dark";k(function(){e.current||(e.current=!0,c("MessengerDesktopDeeplinkEventFalcoEvent").log(function(){return{event:"open_in_app_button_impression",eventLocation:"browser",eventType:"thread",funnelSessionId:f,mobile_app_source:"unknown"}}))});var m=h._("__JHASH___3DTfSod6m3__JHASH__");g=g?new(c("ImageIconSource"))(i("2009370"),32,32):new(c("ImageIconSource"))(i("1996477"),32,32);var n=function(){c("goUriOnNewWindow")(a.fallbackUrl)};return j.jsx(c("CometTooltip.react"),{align:"end",tooltip:m,children:j.jsx(c("TetraCircleButton.react"),{color:"secondary",icon:g,label:m,onPress:function(){c("MessengerDesktopDeeplinkEventFalcoEvent").log(function(){return{event:"open_in_app_button_click",eventLocation:"browser",eventType:"thread",funnelSessionId:f,mobile_app_source:"unknown"}}),c("promiseDone")(b("Promise").all([new(c("MessengerDesktopLocalServerRequest"))("/thread?funnel_id="+f+"&data=empty",d("MessengerDesktopDeepLinkUtils").PORT).setOnLoadEndHandler(function(){}).setErrorHandler(function(a){d("ODS").bumpEntityKey(3303,"dapp_non_calling_entrypoints","request_failed_with_error_"+a),n()}).setTimeoutHandler(function(){d("ODS").bumpEntityKey(3303,"dapp_non_calling_entrypoints","request_timed_out"),n()}).send()])),a.onClose()},size:32,testid:void 0,type:"deemphasized"})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatSearchInsertRankingContacts.bs",["I64","LSFactory","LSInsertRankingContacts","gkx","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h={contents:!1},i={contents:!1},j=c("gkx")("4164")?d("I64").of_string("100"):d("I64").zero;function a(a){if(!h.contents&&d("I64").gt(j,d("I64").zero)){h.contents=!0;c("promiseDone")(a.runInTransaction(function(a){return c("LSInsertRankingContacts")(j,c("LSFactory")(a))},"readwrite"),function(){i.contents=!0});return}}function b(){return i.contents}g.rankingContactsStarted=h;g.rankingContactsDone=i;g.numRankingContacts=j;g.insertRankingContacts=a;g.isDone=b}),98);
__d("MWLSUseSyncRankings.bs",["LSIntEnum","MWLSDatabaseLazySync.bs","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";function a(){return d("MWLSDatabaseLazySync.bs").useSync(d("LSIntEnum").ofNumber(7))}var h={contents:!1},i={contents:!1};function b(a){if(!h.contents){h.contents=!0;c("promiseDone")(d("MWLSDatabaseLazySync.bs").sync(a,d("LSIntEnum").ofNumber(7)),function(){i.contents=!0});return}}function e(){return i.contents}g.useHook=a;g.rankingSyncStarted=h;g.rankingSyncDone=i;g.sync=b;g.isDone=e}),98);
__d("MWPSearchIndexingSource.bs",["I64","LSIntEnum","ReQL.bs","ReQLSuspense","SortedAsyncIterable.bs","bs_curry"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return d("ReQL.bs").toArray(d("ReQL.bs").fromTableAscending(a.table("contacts")))}function b(a,b){return d("SortedAsyncIterable.bs").subscribe(d("ReQL.bs").fromTableAscending(a.table("contacts")),function(a,d){return c("bs_curry")._2(b,a.hd,d)})}function e(a){return d("ReQL.bs").toArray(d("ReQL.bs").filter(d("ReQL.bs").fromTableAscending(a.table("threads")),function(a){return d("I64").equal(a.threadType,d("LSIntEnum").ofNumber(2))}))}function f(a,b){return d("SortedAsyncIterable.bs").subscribe(d("ReQL.bs").filter(d("ReQL.bs").fromTableAscending(a.table("threads")),function(a){return d("I64").equal(a.threadType,d("LSIntEnum").ofNumber(2))}),function(a,d){return c("bs_curry")._2(b,a.hd,d)})}function h(a,b){return d("ReQL.bs").toArray(d("ReQL.bs").map(d("ReQL.bs").filter(d("ReQL.bs").fromTableAscending(b.table("participants")),function(b){return!d("I64").equal(b.contactId,a)}),function(a){return[a,d("ReQLSuspense").first(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(b.table("contacts")),{hd:a.contactId,tl:0}))]}))}function i(a,b,e){return d("SortedAsyncIterable.bs").subscribe(d("ReQL.bs").filter(d("ReQL.bs").fromTableAscending(b.table("participants")),function(b){return!d("I64").equal(b.contactId,a)}),function(a,b){return c("bs_curry")._3(e,a.hd,a.tl.hd,b)})}a=a;b=b;e=e;f=f;h=h;i=i;g.fetchContacts=a;g.subToContacts=b;g.fetchGroupThreads=e;g.subToGroupThreads=f;g.fetchGroupParticipants=h;g.subToGroupParticipants=i}),98);
__d("MWPSearchOfflineOpenConversations",["minisearch"],(function(a,b,c,d,e,f,g){"use strict";var h=new(c("minisearch"))({fields:["content"],searchOptions:{fuzzy:.2,prefix:!0},storeFields:["category"]});function a(a){return h.search(a)}function b(a){h.add(a)}function d(a){h.remove(a)}g.search=a;g.add=b;g.remove=d}),98);
__d("LSInstagramE2EEEligibility",[],(function(a,b,c,d,e,f){a=Object.freeze({UNKNOWN:-1,INELIGIBLE:0,ELIGIBLE:1,REQUIRED:2,DUAL_SEND_ELIGIBLE:3,GROUPS_ELIGIBLE:4});f["default"]=a}),66);
__d("LSSearchType",[],(function(a,b,c,d,e,f){a=Object.freeze({CONTACT:1,NONCONTACT:2,GROUP:3,PAGE:4,INTEGRATED_MESSAGE_SEARCH_THREAD:5,IG_CONTACT_FOLLOWING:6,IG_CONTACT_NONFOLLOWING:7,IG_NONCONTACT_FOLLOWING:8,IG_NONCONTACT_NONFOLLOWING:9,IG_BUSINESS:10,TAM_CONTACT:11,TAM_THREAD:12,COMMUNITY_MESSAGING_THREAD:13,RECOMMENDED_COMMUNITIES:14,SECTION_HEADER:15});f["default"]=a}),66);
__d("MWLSThreadTitle",["fbt","I64","LSMessagingThreadTypeUtil","gkx"],(function(a,b,c,d,e,f,g,h){"use strict";function i(a){switch(a.length){case 0:return c("gkx")("1341692")?"":h._("__JHASH__v1-lXqbvI1-__JHASH__");case 1:return a[0];case 2:return h._("__JHASH__CYtAjqXrfJL__JHASH__",[h._param("participant1",a[0]),h._param("participant2",a[1])]);case 3:return h._("__JHASH__0GwsaOqt1zM__JHASH__",[h._param("participant1",a[0]),h._param("participant2",a[1]),h._param("participant3",a[2])]);default:return h._("__JHASH__-HjU-GfOUIJ__JHASH__",[h._param("participant1",a[0]),h._param("participant2",a[1]),h._param("others_count",String(a.length-2))])}}var j=c("gkx")("1846003");function k(a,b,c,e,f,g){if(a!=null)return a;a=d("LSMessagingThreadTypeUtil").isGroup(e);e=c.filter(function(a){return!d("I64").equal(a.contact_id,b)});if(a)return i(e.map(f));return c.length!==1?i(e.map(g)):g(c[0])}function a(a,b,c,d){return k(a,b,c,d,function(a){var b=a.name;a=a.nickname;return j?(a=a)!=null?a:b:b},function(a){var b=a.actual_name;a=a.nickname;return j?(a=a)!=null?a:b:b}).toString()}function b(a,b,c,d){return k(a,b,c,d,function(a){a=a.actual_name;return a},function(a){a=a.actual_name;return a}).toString()}g.getThreadTitle=k;g.getDefaultThreadTitle=a;g.getThreadTitleWithFullName=b}),98);
__d("MWChatTemporarySearchResult.bs",["I64","LSContactBitOffset","LSContactType","LSContactViewerRelationship","LSInstagramE2EEEligibility","LSIntEnum","LSMediaUrl.bs","LSMessagingThreadTypeUtil","LSRestrictionType","LSSearchType","LSWhatsAppConnectStatus","MWLSContactTypeExactUtils","MWLSThreadTitle","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";function h(a){if(d("I64").equal(a,d("LSIntEnum").ofNumber(c("LSSearchType").IG_CONTACT_FOLLOWING))||d("I64").equal(a,d("LSIntEnum").ofNumber(c("LSSearchType").IG_CONTACT_NONFOLLOWING))||d("I64").equal(a,d("LSIntEnum").ofNumber(c("LSSearchType").IG_NONCONTACT_FOLLOWING)))return!0;else return d("I64").equal(a,d("LSIntEnum").ofNumber(c("LSSearchType").IG_NONCONTACT_NONFOLLOWING))}function i(a){if(d("I64").equal(a,d("LSIntEnum").ofNumber(c("LSSearchType").CONTACT))||d("I64").equal(a,d("LSIntEnum").ofNumber(c("LSSearchType").NONCONTACT))||h(a))return"user";else if(d("I64").equal(a,d("LSIntEnum").ofNumber(c("LSSearchType").GROUP))||d("I64").equal(a,d("LSIntEnum").ofNumber(c("LSSearchType").RECOMMENDED_COMMUNITIES))||d("I64").equal(a,d("LSIntEnum").ofNumber(c("LSSearchType").COMMUNITY_MESSAGING_THREAD)))return"group";else if(d("I64").equal(a,d("LSIntEnum").ofNumber(c("LSSearchType").PAGE)))return"page";else if(d("I64").equal(a,d("LSIntEnum").ofNumber(c("LSSearchType").INTEGRATED_MESSAGE_SEARCH_THREAD)))return"message";else{c("recoverableViolation")("Unknown Search Result Type "+d("I64").to_string(a),"messenger_web_product");return"user"}}function a(a,b,e,f,g){var h=d("MWLSContactTypeExactUtils").isIgContact(e),i=e.secondaryName;i=h&&i!=null?i:"";var j=f!=null?[f.e2eeEligibility,!d("I64").equal(f.e2eeEligibility,d("LSIntEnum").ofNumber(c("LSInstagramE2EEEligibility").INELIGIBLE))]:[void 0,void 0],k=e.contactType;return{canViewerMessage:void 0,communityId:void 0,defaultE2eeThreadOneToOne:d("LSContactBitOffset").has(d("LSIntEnum").ofNumber(83),e),defaultE2eeThreads:d("LSContactBitOffset").has(d("LSIntEnum").ofNumber(80),e),displayName:e.name,hasCutoverThread:d("LSContactBitOffset").has(d("LSIntEnum").ofNumber(76),e),id:d("I64").to_string(e.id),imageUrl:d("LSMediaUrl.bs").Contact.profilePictureUrl(e),isContact:d("I64").equal(e.contactViewerRelationship,d("LSIntEnum").ofNumber(c("LSContactViewerRelationship").CONTACT_OF_VIEWER)),isE2EE:b===!0,isEligibleForCmInvite:void 0,isEPD:d("I64").equal(e.restrictionType,d("LSIntEnum").ofNumber(c("LSRestrictionType").DATA_PRIVACY)),isGroupsXacEligible:d("LSContactBitOffset").has(d("LSIntEnum").ofNumber(68),e),isInstagramAccount:h,isInteropEligible:d("LSContactBitOffset").has(d("LSIntEnum").ofNumber(67),e),isInvitedToCmChannel:void 0,resultIgid:void 0,isVerified:(b=d("LSContactBitOffset").has(d("LSIntEnum").ofNumber(23),e))!=null?b:!1,isWAEligible:j[1],otherUserId:void 0,rankingScore:a,restrictionType:void 0,resultType:d("I64").equal(k,d("LSIntEnum").ofNumber(c("LSContactType").USER))||!(d("I64").equal(k,d("LSIntEnum").ofNumber(c("LSContactType").PAGE))||d("I64").equal(k,d("LSIntEnum").ofNumber(c("LSContactType").PAGE_PERSONA)))?"user":"page",searchSource:g,secondaryImageUrl:void 0,section:"",serverSearchResult:void 0,subtext:i,threadJoinLinkHash:void 0,threadKey:void 0,threadType:void 0,waAddressable:d("I64").equal(e.waConnectStatus,d("LSIntEnum").ofNumber(c("LSWhatsAppConnectStatus").WHATSAPP_ADDRESSABLE)),waEligibility:j[0],supportsE2eeSpamdStorage:f!=null?f.supportsE2eeSpamdStorage:void 0,isViewerUnconnected:d("LSContactBitOffset").hasWithDefault(d("LSIntEnum").ofNumber(64),e,!0)}}function j(a,b,c){var e=a.threadDescription,f=a.threadName;if(e!=null)return e;else if(f!=null&&f!=="")return d("MWLSThreadTitle").getDefaultThreadTitle(void 0,b,c,a.threadType).toString();else return""}function b(a,b,c,e,f,g,h){var i=j(a,c,g);return{canViewerMessage:void 0,communityId:void 0,defaultE2eeThreadOneToOne:void 0,defaultE2eeThreads:void 0,displayName:d("MWLSThreadTitle").getDefaultThreadTitle(a.threadName,c,g,a.threadType).toString(),hasCutoverThread:void 0,id:d("I64").to_string(a.threadKey),imageUrl:e,isContact:!1,isE2EE:d("LSMessagingThreadTypeUtil").isSecure(a.threadType),isEligibleForCmInvite:void 0,isEPD:!1,isGroupsXacEligible:void 0,isInstagramAccount:!1,isInteropEligible:void 0,isInvitedToCmChannel:void 0,isVerified:!1,isWAEligible:void 0,otherUserId:void 0,rankingScore:h,restrictionType:void 0,resultType:"group",searchSource:b,secondaryImageUrl:f,section:"",serverSearchResult:void 0,subtext:i,threadJoinLinkHash:void 0,threadKey:a.threadKey,threadType:a.threadType,waAddressable:void 0,waEligibility:void 0,supportsE2eeSpamdStorage:void 0,isViewerUnconnected:void 0,resultIgid:void 0}}function e(a,b,e){var f=d("I64").equal(a.type_,d("LSIntEnum").ofNumber(c("LSSearchType").CONTACT)),g=h(a.type_);b=b!=null?(b=b.displayName)!=null?b:"":"";var j=a.defaultE2eeThreadOneToOne,k=a.defaultE2eeThreads,l=a.hasCutoverThread,m=a.isVerified,n=a.supportsE2eeSpamdStorage,o=a.waEligibility;return{canViewerMessage:a.canViewerMessage,communityId:a.communityId,defaultE2eeThreadOneToOne:j!==null?j:void 0,defaultE2eeThreads:k!==null?k:void 0,displayName:a.displayName,hasCutoverThread:l!==null?l:void 0,id:a.resultId,imageUrl:a.profilePicUrl,isContact:f,isE2EE:d("LSMessagingThreadTypeUtil").isSecure(a.threadType),isEligibleForCmInvite:void 0,isEPD:!1,isGroupsXacEligible:a.isGroupsXacEligible,isInstagramAccount:g,isInteropEligible:a.isInteropEligible,isInvitedToCmChannel:void 0,isVerified:m!=null?m:!1,isWAEligible:o!=null?!d("I64").equal(o,d("LSIntEnum").ofNumber(c("LSInstagramE2EEEligibility").INELIGIBLE)):void 0,otherUserId:void 0,rankingScore:void 0,restrictionType:a.restrictionType,resultType:i(a.type_),searchSource:e,secondaryImageUrl:a.secondaryProfilePicUrl,section:b,serverSearchResult:a,subtext:f?"":a.contextLine,threadJoinLinkHash:a.threadJoinLinkHash,threadKey:void 0,threadType:a.threadType,waAddressable:a.isWaAddressable,waEligibility:a.waEligibility,supportsE2eeSpamdStorage:n,isViewerUnconnected:a.isViewerUnconnected,resultIgid:a.resultIgid}}f=h;var k=i;a=a;var l=j;b=b;e=e;g.checkIsInstagramAccount=f;g.getResultType=k;g.fromContact=a;g.getSubtext=l;g.fromThread=b;g.fromServerSearchResult=e}),98);
__d("LSMessageSearchType",[],(function(a,b,c,d,e,f){a=Object.freeze({THREAD:1,MESSAGE:2});f["default"]=a}),66);
__d("LSSearchRequestStatusType",[],(function(a,b,c,d,e,f){a=Object.freeze({PENDING:1,COMPLETE:2,FAILED:3});f["default"]=a}),66);
__d("MWLSParticipant.bs",["I64","LSContactBlockedByViewerStatus","LSContactGender","LSContactType","LSContactWorkForeignEntityType","LSIntEnum","LSMailboxType","LSMediaUrl.bs","MWLSContactTypeExactUtils","ReQL.bs"],(function(a,b,c,d,e,f,g){"use strict";e={actual_name:"",blocked_by_viewer_status:d("LSIntEnum").ofNumber(c("LSContactBlockedByViewerStatus").UNBLOCKED),contact_id:d("I64").zero,contactType:d("LSIntEnum").ofNumber(c("LSContactType").UNKNOWN),delivered_watermark_timestamp_ms:d("I64").zero,gender:d("LSIntEnum").ofNumber(c("LSContactGender").UNKNOWN),is_admin:!1,is_messenger_user:!1,mailbox_type:d("LSIntEnum").ofNumber(c("LSMailboxType").MESSENGER),name:"",nickname:void 0,profile_picture_url:"",rank:0,read_action_timestamp_ms:d("I64").zero,read_watermark_timestamp_ms:d("I64").zero,secondary_name:void 0,thread_key:d("I64").zero,work_company_name:void 0,work_foreign_entity_info:d("LSIntEnum").ofNumber(c("LSContactWorkForeignEntityType").UNKNOWN),work_job_title:void 0};function h(a){var b=a[1];a=a[0];var e=a.nickname;if(e!=null)e=e;else{var f=b.firstName;e=f!=null?f:b.name}return{actual_name:b.name,blocked_by_viewer_status:b.blockedByViewerStatus,contact_id:a.contactId,contactType:b.contactType,delivered_watermark_timestamp_ms:a.deliveredWatermarkTimestampMs,gender:b.gender,is_admin:(f=a.isAdmin)!=null?f:!1,is_messenger_user:b.isMessengerUser,mailbox_type:d("LSIntEnum").ofNumber(c("LSMailboxType").MESSENGER),name:e,nickname:a.nickname,profile_picture_url:d("LSMediaUrl.bs").Contact.profilePictureUrl(b),rank:b.rank,read_action_timestamp_ms:a.readActionTimestampMs,read_watermark_timestamp_ms:a.readWatermarkTimestampMs,secondary_name:d("MWLSContactTypeExactUtils").isIgContact(b)?b.secondaryName:void 0,thread_key:a.threadKey,work_company_name:b.workCompanyName,work_foreign_entity_info:b.workForeignEntityType,work_job_title:b.workJobTitle}}function a(a,b,c){return d("ReQL.bs").map(d("ReQL.bs").mergeJoin(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(a.table("participants")),{hd:c,tl:0}),b),h)}function b(a,b){return d("ReQL.bs").getKeyRange(a,{hd:b,tl:0})}f=e;e=h;a=a;b=b;g.empty=f;g.projectOpen=e;g.getAllInOpenThread=a;g.getInOpenThread=b}),98);
__d("groupBy",[],(function(a,b,c,d,e,f){function a(a,b){return a.reduce(function(a,c){(a[b(c)]=a[b(c)]||[]).push(c);return a},{})}f["default"]=a}),66);
__d("MWInboxSecureContentSearch.bs",["fbt","I64","LSIntEnum","LSMediaUrl.bs","LSMessageSearchType","LSSearchRequestStatusType","MAWBridgeSendAndReceive","MAWThreadId","MAWTimeUtils","MWLSParticipant.bs","MWLSThreadTitle","Promise","ReQL.bs","asyncToGeneratorRuntime","bs_js_dict","emptyFunction","groupBy"],(function(a,b,c,d,e,f,g,h){"use strict";function i(a,c){return d("MAWThreadId").toThreadKey_DEPRECATED(c,a.chatId).then(function(e){return b("Promise").all([d("ReQL.bs").first(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(c.table("threads")),{hd:e,tl:0})),b("Promise").resolve(a)])})}function j(a,c,e){var f=d("LSMediaUrl.bs").Thread.threadPictureUrl(a);if(f!=null)return b("Promise").resolve([f,void 0]);else return d("ReQL.bs").toArray(d("ReQL.bs").map(d("ReQL.bs").leftJoin(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(e.table("participants")),{hd:a.threadKey,tl:0}),d("ReQL.bs").fromTableAscending(e.table("contacts"))),function(a){a[0];a=a[1];return a})).then(function(a){a=a.filter(Boolean).sort(function(a,b){return a.rank-b.rank}).filter(function(a){return!d("I64").equal(a.id,c)}).map(function(a){return d("LSMediaUrl.bs").Contact.profilePictureUrl(a)});var b=a[0];return b!=null?[b,a[1]]:["",void 0]})}function k(a,b,e){if(a===1||d("I64").equal(e,d("LSIntEnum").ofNumber(c("LSMessageSearchType").MESSAGE)))return b.content;else return h._("__JHASH__MOcENwPdyTO__JHASH__",[h._plural(a,"number")]).toString()}function l(a,b){return d("ReQL.bs").toArray(d("MWLSParticipant.bs").getAllInOpenThread(b,d("ReQL.bs").fromTableAscending(b.table("contacts")),a.threadKey))}function m(a,e,f,g,h,m){return m.runInTransaction(function(n){return i(a,n).then(function(a){var i=a[0];if(i==null)return;var o=a[1];if(o!=null)return b("Promise").all([j(i,h,m),l(i,m)]).then(function(a){var j=a[0],l=o.content;return b("Promise").all([n.table("message_search_queries").put({hasNextPage:void 0,nextPageCursor:void 0,query:f,resultCount:d("I64").of_int32(e),status:d("LSIntEnum").ofNumber(c("LSSearchRequestStatusType").COMPLETE),threadKeyV2:i.threadKey,type_:g}),n.table("message_search_results").put({contextLine:k(e,o,g),displayName:d("MWLSThreadTitle").getThreadTitleWithFullName(i.threadName,h,a[1],i.threadType),globalIndex:d("I64").of_int32(-o.rowId|0),matchLengths:String(f.length),matchOffsets:l!=null?String(l.indexOf(f)):void 0,messageId:o.msgId,messageTimestampMs:d("MAWTimeUtils").toTimestamp(o.ts),profilePicUrl:j[0],query:f,secondaryProfilePicUrl:j[1],threadKey:i.threadKey,threadType:i.threadType,type_:g})]).then(c("emptyFunction"))})})},"readwrite")}function n(a,b){return o.apply(this,arguments)}function o(){o=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c){c=(yield d("MAWBridgeSendAndReceive").sendAndReceive("backend","search",{search:c}));return b("Promise").all(c.map(function(b){if(b.recordType==="msg"){b.recordType;var c=babelHelpers.objectWithoutPropertiesLoose(b,["recordType"]);return d("MAWThreadId").toThreadKey_DEPRECATED(a,c.chatId).then(function(a){return[c,a]})}}).filter(Boolean))});return o.apply(this,arguments)}function a(a,e,f){return n(f,a).then(function(g){return c("bs_js_dict").values(c("groupBy")(g,function(a){a[0];a=a[1];return a==null?"":d("I64").to_string(a)})).map(function(b){var g=b[0];if(g!==null){g=g[0];return m(g,b.length,a,d("LSIntEnum").ofNumber(c("LSMessageSearchType").THREAD),e,f)}}).reduce(function(a,d){return b("Promise").all([a,d]).then(c("emptyFunction"))},b("Promise").resolve())})}function e(a,e,f,g){return n(g,a).then(function(h){h=h.filter(function(a){a[0];a=a[1];return e!=null&&a!=null&&d("I64").equal(a,e)});var i=h.length;return h.map(function(b){b=b[0];return m(b,i,a,d("LSIntEnum").ofNumber(c("LSMessageSearchType").MESSAGE),f,g)}).reduce(function(a,d){return b("Promise").all([a,d]).then(c("emptyFunction"))},b("Promise").resolve())})}g.getThreadPics=j;g.getThreadParticipants=l;g.searchSecureDatabaseThreads=a;g.searchSecureDatabaseMessages=e}),98);
__d("bs_belt_SortArray",["bs_belt_Array","bs_curry"],(function(a,b,c,d,e,f){"use strict";function g(a,b,c,d,e){while(!0){var f=c,g=b;if(f>=d)return f;var h=a[f];if(!e(h,g))return f;c=f+1|0;b=h;continue}}function h(a,b){var c=a.length;if(c===0||c===1)return c;var d=a[0],e=a[1];if(b(d,e)){var f=e,h=2;while(!0){var i=h,j=f;if(i>=c)return i;var k=a[i];if(!b(j,k))return i;h=i+1|0;f=k;continue}}else if(b(e,d))return-g(a,e,2,c,b)|0;else return 1}function a(a,c){return h(a,b("bs_curry").__2(c))}function i(a,b){var c=a.length;if(c===0)return!0;else{var d=0;c=c-1|0;while(!0){var e=d;if(e===c)return!0;if(b(a[e],a[e+1|0])>0)return!1;d=e+1|0;continue}}}function c(a,c){return i(a,b("bs_curry").__2(c))}function j(a,c,d,e,f,g,h,i,j){d=c+d|0;g=f+g|0;var k=c;c=a[c];var l=f;f=e[f];i=i;while(!0){var m=i,n=f,o=l,p=c,q=k;if(j(p,n)<=0){h[m]=p;p=q+1|0;if(p>=d)return b("bs_belt_Array").blitUnsafe(e,o,h,m+1|0,g-o|0);i=m+1|0;c=a[p];k=p;continue}h[m]=n;p=o+1|0;if(p>=g)return b("bs_belt_Array").blitUnsafe(a,q,h,m+1|0,d-q|0);i=m+1|0;f=e[p];l=p;continue}}function k(a,c,d,e,f,g,h,i,j){d=c+d|0;g=f+g|0;var k=c;c=a[c];var l=f;f=e[f];i=i;while(!0){var m=i,n=f,o=l,p=c,q=k,r=j(p,n);if(r<0){h[m]=p;var s=q+1|0,t=m+1|0;if(s<d){i=t;c=a[s];k=s;continue}b("bs_belt_Array").blitUnsafe(e,o,h,t,g-o|0);return(t+g|0)-o|0}if(r===0){h[m]=p;s=q+1|0;t=o+1|0;r=m+1|0;if(!(s<d&&t<g))if(s===d){b("bs_belt_Array").blitUnsafe(e,t,h,r,g-t|0);return(r+g|0)-t|0}else{b("bs_belt_Array").blitUnsafe(a,s,h,r,d-s|0);return(r+d|0)-s|0}i=r;f=e[t];l=t;c=a[s];k=s;continue}h[m]=n;p=o+1|0;r=m+1|0;if(p<g){i=r;f=e[p];l=p;continue}b("bs_belt_Array").blitUnsafe(a,q,h,r,d-q|0);return(r+d|0)-q|0}}function d(a,c,d,e,f,g,h,i,j){return k(a,c,d,e,f,g,h,i,b("bs_curry").__2(j))}function l(a,b,c,d,e,f,g,h,i){c=b+c|0;f=e+f|0;var j=b;b=a[b];var k=e;e=d[e];h=h;while(!0){var l=h,m=e,n=k,o=b,p=j;m=i(o,m);if(m<0){var q=p+1|0;if(q>=c)return l;b=a[q];j=q;continue}if(m===0){g[l]=o;q=p+1|0;m=n+1|0;o=l+1|0;if(!(q<c&&m<f))return o;h=o;e=d[m];k=m;b=a[q];j=q;continue}p=n+1|0;if(p>=f)return l;e=d[p];k=p;continue}}function e(a,c,d,e,f,g,h,i,j){return l(a,c,d,e,f,g,h,i,b("bs_curry").__2(j))}function m(a,c,d,e,f,g,h,i,j){d=c+d|0;g=f+g|0;var k=c;c=a[c];var l=f;f=e[f];i=i;while(!0){var m=i,n=f,o=l,p=c,q=k;n=j(p,n);if(n<0){h[m]=p;p=m+1|0;var r=q+1|0;if(r>=d)return p;i=p;c=a[r];k=r;continue}if(n===0){p=q+1|0;r=o+1|0;if(!(p<d&&r<g))if(p===d)return m;else{b("bs_belt_Array").blitUnsafe(a,p,h,m,d-p|0);return(m+d|0)-p|0}f=e[r];l=r;c=a[p];k=p;continue}n=o+1|0;if(n<g){f=e[n];l=n;continue}b("bs_belt_Array").blitUnsafe(a,q,h,m,d-q|0);return(m+d|0)-q|0}}function n(a,c,d,e,f,g,h,i,j){return m(a,c,d,e,f,g,h,i,b("bs_curry").__2(j))}function o(a,b,c,d,e,f){for(var g=0;g<e;++g){var h=a[b+g|0],i=(d+g|0)-1|0;while(i>=d&&f(c[i],h)>0)c[i+1|0]=c[i],i=i-1|0;c[i+1|0]=h}}function p(a,b,c,d,e,f){if(e<=5)return o(a,b,c,d,e,f);var g=e/2|0;e=e-g|0;p(a,b+g|0,c,d+g|0,e,f);p(a,b,a,b+e|0,g,f);return j(a,b+e|0,g,c,d+g|0,e,c,d,f)}function q(a,b){var c=a.length;if(c<=5)return o(a,0,a,0,c,b);var d=c/2|0;c=c-d|0;var e=new Array(c);p(a,d,e,0,c,b);p(a,0,a,c,d,b);return j(a,c,d,e,0,c,a,0,b)}function r(a,c){return q(a,b("bs_curry").__2(c))}function s(a,b){a=a.slice(0);q(a,b);return a}function t(a,c){return s(a,b("bs_curry").__2(c))}function u(a,b,c){var d=a.length;if(d===0)return-1;var e=a[0];e=c(b,e);if(e<0)return-1;e=a[d-1|0];e=c(b,e);if(e>0)return-(d+1|0)|0;else{e=0;d=d-1|0;while(!0){var f=d,g=e,h=(g+f|0)/2|0,i=a[h];i=c(b,i);if(i===0)return h;if(i<0){if(f===h)if(c(a[g],b)===0)return g;else return-(f+1|0)|0;d=h;continue}if(g===h)if(c(a[f],b)===0)return f;else return-(f+1|0)|0;e=h;continue}}}function v(a,c,d){return u(a,c,b("bs_curry").__2(d))}var w,x;f.Int=w;f.$$String=x;f.strictlySortedLengthU=h;f.strictlySortedLength=a;f.isSortedU=i;f.isSorted=c;f.stableSortInPlaceByU=q;f.stableSortInPlaceBy=r;f.stableSortByU=s;f.stableSortBy=t;f.binarySearchByU=u;f.binarySearchBy=v;f.unionU=k;f.union=d;f.intersectU=l;f.intersect=e;f.diffU=m;f.diff=n}),null);
__d("MWPSearchOfflineOpenConversations.bs",["I64","LSContactBitOffset","LSInitSyncCompleteSubscription.bs","LSIntEnum","MNetRankType","MWChatTemporarySearchResult.bs","MWInboxSecureContentSearch.bs","MWPSearchOfflineOpenConversations","Promise","ReQL.bs","bs_belt_SortArray"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){return"p__"+d("I64").to_string(a)+"__"+d("I64").to_string(b)}function h(a){a=a.split("__");var b=a.length;if(b!==3)return;else return[d("I64").of_string(a[1]),d("I64").of_string(a[2])]}function i(a,c){return b("Promise").all([d("ReQL.bs").firstExn(d("ReQL.bs").map(d("ReQL.bs").fromTableAscending(a.table("_user_info")),function(a){return a.facebookUserId})),d("ReQL.bs").first(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(a.table("threads")),{hd:d("I64").of_string(c),tl:0}))]).then(function(c){var e=c[1];if(e!=null&&e.folderName==="inbox"){var f=c[0];return b("Promise").all([d("MWInboxSecureContentSearch.bs").getThreadPics(e,f,a),d("MWInboxSecureContentSearch.bs").getThreadParticipants(e,a)]).then(function(a){var b=a[0],c=d("I64").to_float(e.lastActivityTimestampMs);c={contactId:d("I64").zero,contactType:d("I64").zero,score:c,scoreIndex:d("I64").zero,scoreType:d("I64").zero};return d("MWChatTemporarySearchResult.bs").fromThread(e,"offline",f,b[0],b[1],a[1],c)})}else return b("Promise").resolve()})}function j(a,b){a=a.rankingScore;a=a!=null?a.score:0;b=b.rankingScore;b=b!=null?b.score:0;if(b>a)return 1;else if(b<a)return-1;else return 0}function k(a,e){return b("Promise").all(e.map(function(e){var f=e.category;switch(f.TAG){case 0:f=e.id;f=h(f);if(f!=null)return i(a,d("I64").to_string(f[0]));else return b("Promise").resolve();case 1:return i(a,e.id);case 2:var g=e.id;return d("ReQL.bs").first(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(a.table("contacts")),{hd:d("I64").of_string(g),tl:0})).then(function(e){var f;if(e!=null&&!(e.isMemorialized||d("I64").equal(e.contactViewerRelationship,d("I64").one)||!d("I64").equal(e.blockedByViewerStatus,d("I64").zero)||((f=d("LSContactBitOffset").has(d("LSIntEnum").ofNumber(66),e))!=null?f:!1)))return d("ReQL.bs").first(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(a.table("ranking_scores")),{hd:d("I64").of_string(g),tl:{hd:d("LSIntEnum").ofNumber(c("MNetRankType").MESSENGER_USER_SEARCH),tl:0}})).then(function(a){return d("MWChatTemporarySearchResult.bs").fromContact(a,void 0,e,void 0,"offline")});else return b("Promise").resolve()})}})).then(function(a){a=a.filter(Boolean);var b=c("bs_belt_SortArray").stableSortByU(a.filter(function(a){return a.resultType!=="group"}),j);a=c("bs_belt_SortArray").stableSortByU(a.filter(function(a){return a.resultType==="group"}),j);return b.concat(a)})}var l={contents:void 0};function e(a,c){var e=l.contents;if(e==null)return b("Promise").resolve([]);var f=d("MWPSearchOfflineOpenConversations").search(a).map(function(a){return a}).filter(function(a){if(c)return!0;a=a.category;switch(a.TAG){case 0:case 1:return!1;case 2:return!0}});return d("LSInitSyncCompleteSubscription.bs").maybeWaitForSyncGroup(e,d("LSIntEnum").ofNumber(7)).then(function(){return k(e,f)})}function m(a,c,e){return d("LSInitSyncCompleteSubscription.bs").maybeWaitForSyncGroup(a,d("LSIntEnum").ofNumber(7)).then(function(){return b("Promise").all(c.map(function(b){return d("ReQL.bs").first(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(a.table("ranking_scores")),{hd:d("I64").of_string(b),tl:{hd:e,tl:0}})).then(function(a){if(a!=null)return[b,a.score]})}))})}function f(a,b){return m(a,b,d("LSIntEnum").ofNumber(c("MNetRankType").MESSENGER_USER_SEARCH))}g.getGroupParticipantKey=a;g.parseGroupParticipantKey=h;g.sortByRankingScore=j;g.searchHelper=k;g.db=l;g.search=e;g.fetchRankingScoresHelper=m;g.fetchRankingScoresKP=f}),98);
__d("MWPSearchOpenIndexer.bs",["I64","MWPSearchOfflineOpenConversations","MWPSearchOfflineOpenConversations.bs","ReQL.bs","ReQLSuspense"],(function(a,b,c,d,e,f,g){"use strict";var h=new Map();function i(a){var b=d("I64").to_string(a.id);a=a.name;var c={_0:void 0,TAG:2};c={category:c,content:a,id:b};d("MWPSearchOfflineOpenConversations").add(c);h.set(b,c)}function j(a){var b=h.get(a);if(!(b==null)){h["delete"](a);d("MWPSearchOfflineOpenConversations").remove(b);return}}f={addToIndex:i,contactRecords:h,remove:j};var k=new Map();function l(a){var b=a.threadName;if(b==null)return;a=d("I64").to_string(a.threadKey);var c={_0:void 0,TAG:1};c={category:c,content:b,id:a};d("MWPSearchOfflineOpenConversations").add(c);k.set(a,c)}function m(a){var b=k.get(a);if(!(b==null)){k["delete"](a);d("MWPSearchOfflineOpenConversations").remove(b);return}}var n={addToIndex:l,remove:m,threadRecords:k},o=new Map();function p(a,b){if(b==null)return;a=d("MWPSearchOfflineOpenConversations.bs").getGroupParticipantKey(a.threadKey,a.contactId);b=b.name;var c={_0:void 0,TAG:0};c={category:c,content:b,id:a};d("MWPSearchOfflineOpenConversations").add(c);o.set(a,c)}function q(a,b){a=d("ReQLSuspense").first(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(a.table("contacts")),{hd:b.contactId,tl:0}));return p(b,a)}function r(a,b){a=d("MWPSearchOfflineOpenConversations.bs").getGroupParticipantKey(a,b);b=o.get(a);if(!(b==null)){o["delete"](a);d("MWPSearchOfflineOpenConversations").remove(b);return}}var s={addToIndex:p,addToIndexWithoutContact:q,participantRecords:o,remove:r};function a(a,b){switch(b.TAG){case 0:return i(b._0);case 1:b=b._0;j(d("I64").to_string(b.id));return i(b);case 2:return j(d("I64").to_string(a))}}function b(a,b){switch(b.TAG){case 0:return l(b._0);case 1:b=b._0;m(d("I64").to_string(b.threadKey));return l(b);case 2:return m(d("I64").to_string(a))}}function c(a,b,c,d){switch(d.TAG){case 0:return q(a,d._0);case 1:r(b,c);return q(a,d._0);case 2:return r(b,c)}}function e(a,b,c,e){d("MWPSearchOfflineOpenConversations.bs").db.contents=a,b.forEach(i),c.forEach(l),e.forEach(function(a){return p(a[0],a[1])})}f=f;n=n;s=s;a=a;b=b;c=c;e=e;g.Contacts=f;g.GroupThreads=n;g.GroupParticipants=s;g.onContactChanged=a;g.onGroupThreadChanged=b;g.onGroupParticipantChanged=c;g.startInitialIndex=e}),98);
__d("MWPSearchSystem.bs",["CurrentUser","I64","JSScheduler","LSClearTables","LSFactory","MWChatSearchInsertRankingContacts.bs","MWLSUseSyncRankings.bs","MWPSearchIndexingSource.bs","MWPSearchOpenIndexer.bs","Promise","bs_caml_option","gkx","promiseDone","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h={contents:!1},i={contents:!1},j={contents:!1},k=c("gkx")("2190");function a(a){if(!j.contents){j.contents=!0;d("JSScheduler").scheduleSpeculativeCallback(function(){d("MWChatSearchInsertRankingContacts.bs").insertRankingContacts(a);d("MWLSUseSyncRankings.bs").sync(a);var e=d("I64").of_string(c("CurrentUser").getID());if(!h.contents){h.contents=!0;c("promiseDone")(b("Promise").all([d("MWPSearchIndexingSource.bs").fetchContacts(a),k?d("MWPSearchIndexingSource.bs").fetchGroupThreads(a):b("Promise").resolve([]),k?d("MWPSearchIndexingSource.bs").fetchGroupParticipants(e,a):b("Promise").resolve([])]).then(function(b){var c=b[0];d("MWPSearchOpenIndexer.bs").startInitialIndex(a,c,b[1],b[2])}),function(){i.contents=!0},function(a){c("recoverableViolation")("Error indexing contacts for search","messenger_search",{error:c("bs_caml_option").some(a)})});d("MWPSearchIndexingSource.bs").subToContacts(a,function(a,b){return d("MWPSearchOpenIndexer.bs").onContactChanged(a,b)});if(k){d("MWPSearchIndexingSource.bs").subToGroupThreads(a,function(a,b){return d("MWPSearchOpenIndexer.bs").onGroupThreadChanged(a,b)});d("MWPSearchIndexingSource.bs").subToGroupParticipants(e,a,function(b,c,e){return d("MWPSearchOpenIndexer.bs").onGroupParticipantChanged(a,b,c,e)});return}else return}else return});return}}function e(a){return a.runInTransaction(function(a){return c("LSClearTables")(c("LSFactory")(a))},"readwrite")}function f(){if(d("MWLSUseSyncRankings.bs").isDone()&&d("MWChatSearchInsertRankingContacts.bs").isDone())return i.contents;else return!1}g.initialIndexingStarted=h;g.initialIndexingDone=i;g.makeAllStarted=j;g.makeAll=a;g.clearAll=e;g.isDone=f}),98);
__d("useMWJewelSettingsButtonSecurityAlertsBadge",["CometBadge.react","MAWStateContext.react","react","useMAWSecurityAlertsPreferences"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useMemo,j=function(a){return a.unArchivedSelfDeviceChangeAlerts};function a(){var a=c("useMAWSecurityAlertsPreferences")(),b=a.securityAlertsPreferences,e=d("MAWStateContext.react").useMAWSelector(j);return i(function(){return{badge:(b==null?void 0:b.allowSecurityAlertForSelf)&&e>0?h.jsx("div",{className:"x1j1mzgm x10l6tqk x12ibf10",children:h.jsx(c("CometBadge.react"),{testid:void 0})}):null}},[b==null?void 0:b.allowSecurityAlertForSelf,e])}g["default"]=a}),98);
__d("useMWJewelSettingsButtonBadge",["cr:4042","cr:4867","react"],(function(a,b,c,d,e,f,g){"use strict";d("react");function a(){var a;a=(a=b("cr:4867")==null?void 0:b("cr:4867")())!=null?a:{};var c=a.badge;c=c===void 0?null:c;var d=a.onButtonPress;a=(a=b("cr:4042")==null?void 0:b("cr:4042")())!=null?a:{};a=a.badge;a=a===void 0?null:a;return{badge:(c=c)!=null?c:a,onButtonPress:function(){d==null?void 0:d()}}}g["default"]=a}),98);
__d("MWJewelDropdownHeader.react",["fbt","ix","CometEntryPointPopoverTrigger.react","CometGlobalPanelLayoutContext","CometGlobalPanelPopoverActiveContext","CometHomeChatSettings.entrypoint","CometProgressRingIndeterminate.react","CometTooltip.react","CometTopNavListDropdown.react","MWChatOpenNewTab.bs","MWJewelDropdownHeaderOpenInAppButton.react","MWJewelDropdownHeaderOpenInAppLocalhostWithFallbackButton.react","MWJewelDropdownHeaderSeeAllButton.react","MWJewelPopoverDialogContext.react","MWPSearchSystem.bs","MessengerDesktopDeepLinkUtils","RoomsLinkCreationSupported","TetraCircleButton.react","XCometMessengerControllerRouteBuilder","cr:574","emptyFunction","fbicon","react","useCometPreloader","useMWChatNewVideoChat","useMWJewelSettingsButtonBadge","useMWNewChatTabContainerPreload","useReStore","useShouldShowMessagingEntrypointInCometRoot"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react");e=d("react");var k=e.useCallback,l=e.useContext;function m(a){var b=a.onOpenArchivedChats,e=a.onOpenMessageRequests;a=a.onOpenRestrictedAccountsList;var f=h._("__JHASH__wPDFO2UUg3d__JHASH__"),g=l(c("MWJewelPopoverDialogContext.react")),k=g.setIsOpenForDialog;g=c("useMWJewelSettingsButtonBadge")();var m=g.badge,n=g.onButtonPress;return j.jsx(c("CometEntryPointPopoverTrigger.react"),{align:"end",entryPointParams:{},otherProps:{onOpenArchivedChats:(g=b)!=null?g:void 0,onOpenMessageRequests:(b=e)!=null?b:void 0,onOpenRestrictedAccountsList:(g=a)!=null?g:void 0},popoverEntryPoint:c("CometHomeChatSettings.entrypoint"),position:"below",preloadTrigger:"button",children:function(a,b,e,g,h,l){return j.jsxs(c("CometTooltip.react"),{align:"end",tooltip:f,children:[m,j.jsx(c("TetraCircleButton.react"),{color:"secondary",icon:d("fbicon")._(i("484387"),20),label:f,onHoverIn:g,onHoverOut:h,onPress:function(){k(!1),b(),n()},onPressIn:l,ref:a,size:32,testid:void 0,type:"deemphasized"})]})}})}m.displayName=m.name+" [from "+f.id+"]";function a(a){var e=c("useShouldShowMessagingEntrypointInCometRoot")("CHAT"),f=d("MWChatOpenNewTab.bs").useHook("jewelNewMessage"),g=c("useMWChatNewVideoChat")(a.onClose),n=g[0];g=g[1];var o=c("XCometMessengerControllerRouteBuilder").buildURL({thread_key:"new"}),p=b("cr:574")==null?void 0:b("cr:574").useInteractionLogger(),q=function(){e&&(f(!1),a.onClose()),p==null?void 0:p({eventName:"create_thread"})},r=c("useMWNewChatTabContainerPreload")(),s=r[0],t=r[1],u=c("useReStore")();r=k(function(){return d("MWPSearchSystem.bs").makeAll(u)},[u]);var v=c("useCometPreloader")("button_aggressive",c("emptyFunction"),r),w=v[0],x=v[1];v=h._("__JHASH__JTlMNMvbiI7__JHASH__");var y=h._("__JHASH__6-yEucnbb8q__JHASH__"),z=l(c("CometGlobalPanelLayoutContext")),A=l(c("CometGlobalPanelPopoverActiveContext")),B=A.setIsPopoverActive;A=d("MessengerDesktopDeepLinkUtils").useMessengerDesktopWindowsDeeplinkSwitcher;A=A();var C=d("MessengerDesktopDeepLinkUtils").isMessengerDesktopDeeplinkEnabled();A?A=j.jsx(c("MWJewelDropdownHeaderOpenInAppLocalhostWithFallbackButton.react"),{fallbackUrl:a.inboxUrl,onClose:a.onClose}):C?A=j.jsx(c("MWJewelDropdownHeaderOpenInAppButton.react"),{onClose:a.onClose}):A=j.jsx(c("MWJewelDropdownHeaderSeeAllButton.react"),{onClose:z?function(){return B(!1)}:a.onClose,testid:void 0,url:a.inboxUrl});return j.jsx(c("CometTopNavListDropdown.react").Title,{actions:[j.jsx(m,{onOpenArchivedChats:a.onOpenArchivedChats,onOpenMessageRequests:a.onOpenMessageRequests,onOpenRestrictedAccountsList:a.onOpenRestrictedAccountsList}),A,d("RoomsLinkCreationSupported").isLinkCreationSupported()?j.jsx(c("CometTooltip.react"),{align:"end",tooltip:y,children:g?j.jsx("div",{className:"x6s0dn4 x78zum5 x10w6t97",children:j.jsx(c("CometProgressRingIndeterminate.react"),{color:"disabled",size:20})}):j.jsx(c("TetraCircleButton.react"),{color:"secondary",icon:d("fbicon")._(i("1388374"),20),label:y,onPress:function(){return n("fb_messenger_jewel")},size:32,type:"deemphasized"})}):null,j.jsx(c("CometTooltip.react"),{align:"end",tooltip:v,children:j.jsx(c("TetraCircleButton.react"),{color:"secondary",icon:d("fbicon")._(i("507170"),16),label:v,linkProps:{preventLocalNavigation:e,url:o},onFocusIn:r,onHoverIn:function(a){s(a),w(a)},onHoverOut:function(){t(),x()},onPress:q,size:32,type:"deemphasized"})})].filter(Boolean),onReturn:a.onReturn,title:a.title})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWJewelMessengerAppLinkV2.react",["Actor","CometLink.react","MWJewelMessengerLink.react","MessengerDesktopDeepLinkUtils","MessengerDesktopDeeplinkEventFalcoEvent","TetraText.react","react","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useEffect,j=b.useRef;function a(a){var b=a.onClick;a=a.url;return d("MessengerDesktopDeepLinkUtils").isMessengerDesktopDeeplinkEnabled()?h.jsx(k,{onClick:b}):h.jsx(c("MWJewelMessengerLink.react"),{onClick:b,url:a})}a.displayName=a.name+" [from "+f.id+"]";function k(a){var b=a.onClick,e=j(!1),f=j(c("uuidv4")()).current;a=d("Actor").useActor();a=a[0];i(function(){e.current||(e.current=!0,c("MessengerDesktopDeeplinkEventFalcoEvent").log(function(){return{event:"open_messenger_app_link_impression",eventLocation:"browser",eventType:"thread",funnelSessionId:f,mobile_app_source:"unknown"}}))});var g=d("MessengerDesktopDeepLinkUtils").getDeeplinkButtonLabel();a=d("MessengerDesktopDeepLinkUtils").getDeeplinkButtonURI({funnel_session_id:f,id:a,origin:"FB"});return h.jsx("div",{className:"xlsxne2 x1l90r2v x1i80of2",children:h.jsx(c("TetraText.react"),{align:"center",color:"blueLink",type:"bodyLink3",children:h.jsx(c("CometLink.react"),{href:a,onClick:function(){c("MessengerDesktopDeeplinkEventFalcoEvent").log(function(){return{event:"open_messenger_app_link_click",eventLocation:"browser",eventType:"thread",funnelSessionId:f,mobile_app_source:"unknown"}}),b()},children:g})})})}k.displayName=k.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWJewelNestedFolderThreadListHeader.react",["CometTopNavListDropdown.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){return h.jsx(c("CometTopNavListDropdown.react").Title,{onReturn:a.onReturn,title:a.title})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWJewelMessageRequestsThread.react",["fbt","ix","I64","LSIntEnum","Locale","MWJewelThreadSnippet.react","ReQL","ReQLSuspense","TetraIcon.react","TetraListCell.react","fbicon","react","useReStore"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k=function(){var a=c("useReStore")();return d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableDescending(a.table("threads").index("parentThreadKeyLastActivityTimestampMs")).getKeyRange(d("LSIntEnum").ofNumber(-1)).filter(function(a){return d("I64").gt(a.lastActivityTimestampMs,a.lastReadWatermarkTimestampMs)}).map(function(b){b=b.snippetSenderContactId;if(b!=null){b=d("ReQLSuspense").first(d("ReQL").fromTableAscending(a.table("contacts")).getKeyRange(b));return b?b.name:void 0}})},[a],f.id+":40")};function a(a){var b=a.onOpenMessageRequests;a=a.unreadRequestsCount;var e=h._("__JHASH__SQMsXxQB2ND__JHASH__",[h._plural(a)]),f=h._("__JHASH__jhOYdnXiHj7__JHASH__",[h._enum(a===1?"someone":"people",{someone:"someone",people:"people"})]),g=k();g!=null&&(a===1?f=h._("__JHASH__Lhb1JePxKuz__JHASH__",[h._param("name",g)]):f=h._("__JHASH__CG_5_9rh3Rj__JHASH__",[h._param("name",g),h._param("count",a-1)]));return j.jsx(c("TetraListCell.react"),{addOnPrimary:{icon:d("fbicon")._(i("542884"),24),size:56,type:"contained-icon"},addOnSecondary:{addOn:j.jsx(c("TetraIcon.react"),{color:"secondary",icon:d("Locale").isRTL()?d("fbicon")._(i("492485"),16):d("fbicon")._(i("492533"),16)}),type:"body"},body:j.jsx(c("MWJewelThreadSnippet.react"),{isUnread:!0,text:f}),headline:e,level:4,onPress:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWLSLoadThreadFolderIfNotPresent.bs",["CancellablePromise.bs","CancellationToken.bs","I64","Int64Hooks","MWLSJewelLoadMoreThreads.bs","Promise","ReQL.bs","promiseDone","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";d("react");function a(a){var e=c("useReStore")(),f=d("MWLSJewelLoadMoreThreads.bs").useHook(a);d("Int64Hooks").useEffectInt64(function(){var g=d("CancellationToken.bs").make(),h=d("CancellablePromise.bs").ignoreFailed(void 0,d("CancellablePromise.bs").then_(g,function(a){a!=null||f();return b("Promise").resolve()},d("ReQL.bs").first(d("ReQL.bs").filter(d("ReQL.bs").fromTableAscending(e.table("threads_ranges_v2__generated")),function(b){return d("I64").equal(b.parentThreadKey,a)}))));c("promiseDone")(h);return g.cancel},[f,e,a])}g.useHook=a}),98);
__d("MWLSJewelMessageRequestsThread.bs",["I64","Int64Hooks","LSIntEnum","MWJewelMessageRequestsThread.react","MWLSLoadThreadFolderIfNotPresent.bs","MWPActor.react","ReQL.bs","ReQLSubscription.bs","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b={make:c("MWJewelMessageRequestsThread.react")};function i(){var a=c("useReStore")(),b=d("MWPActor.react").useActor();b=d("Int64Hooks").useMemoInt64(function(){return d("ReQL.bs").filter(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromIndexDescending(a.table("threads").index("parentThreadKeyLastActivityTimestampMs")),{hd:d("LSIntEnum").ofNumber(-1),tl:0}),function(a){return d("I64").gt(a.lastActivityTimestampMs,a.lastReadWatermarkTimestampMs)})},[a,b]);return d("ReQLSubscription.bs").useArray(b,"ksu89fu2").length}function a(a){d("MWLSLoadThreadFolderIfNotPresent.bs").useHook(d("LSIntEnum").ofNumber(-1));var b=i();if(a!=null&&b>0)return h.jsx(c("MWJewelMessageRequestsThread.react"),{onOpenMessageRequests:a,unreadRequestsCount:b});else return null}g.RequestsThread=b;g.useHook=a}),98);
__d("LSThreadRangeFilter",[],(function(a,b,c,d,e,f){a=Object.freeze({NONE:0,UNREAD_ONLY:1,GROUPS_ONLY:2,IGD_PRO_PRIMARY:3,IGD_PRO_GENERAL:4,PINNED:5,READ_BUT_UNRESPONDED:6,THREAD_CHAT_LABEL:7,BUSINESS_INBOX_FOLLOW_UP:8,FAMILY_AND_FRIENDS:9,CHANNELS:10,IGD_PRO_CHANNELS:11,BUSINESS_FOLDER_DONE:12,BUSINESS_FOLDER_SPAM:13,BUSINESS_FOLDER_FOLLOW_UP:14,BUSINESS_SECONDARY_FILTER:15,FROM_ADS:16,PRIORITY:17,ASSIGNED_ADMIN:18});f["default"]=a}),66);
__d("useMarkSeenWhenVisible",["Int64Hooks","MWPFolderFocusedManager.bs","MWPMarkSeen.bs","MetaConfig","ReQL","UserActivity","cr:355","emptyFunction","react","useReStore","useSimpleImpression","useVisibilityObserver"],(function(a,b,c,d,e,f,g){"use strict";e=d("react");var h=e.useCallback,i=e.useRef;function a(a){var e,f=c("useReStore")(),g=i(!1),j=(e=b("cr:355")==null?void 0:b("cr:355")(a))!=null?e:c("emptyFunction");e=c("useVisibilityObserver")({onHidden:function(){g.current=!1},onVisible:function(){g.current=!0}});var k=d("MWPMarkSeen.bs").useHook(a),l=h(function(){k(),void j()},[k,j]);d("MWPFolderFocusedManager.bs").useWatchFocusChanges(l,g);c("useSimpleImpression")(l);d("Int64Hooks").useEffectInt64(function(){if(c("MetaConfig")._("46"))return function(){};else return d("ReQL").fromTableDescending(f.table("threads").index("parentThreadKeyLastActivityTimestampMs")).getKeyRange(a).take(1).subscribe(function(){c("UserActivity").isOnTab()&&g.current===!0&&l()})},[f,a,l]);return e}g["default"]=a}),98);
__d("MWPBaseThreadList.react",["Box.react","I64","Int64Hooks","LSFactory","LSFilteredThreadsRangesQuery","LSIntEnum","LSThreadRangeFilter","LSThreadsRangesQuery","MWCMIsThreadBumped","MWIsXacGroupThread.bs","MWThreadListFocusableTable.react","MWThreadListSupportedThreadTypes.bs","MWXacGating.bs","MetaConfig","ReQL","ReQLPaginatedList.react","ReQLSuspense","asyncToGeneratorRuntime","promiseDone","react","useMarkSeenWhenVisible","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");e=d("react");var i=e.useCallback,j=e.useEffect,k=e.useMemo,l=c("MetaConfig")._("41")===!0,m={container:{display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",flexShrink:"xs83m0k",overflowX:"x6ikm8r",overflowY:"x10wlt62",$$css:!0},emptyContentContainer:{alignItems:"x6s0dn4",display:"x78zum5",flexGrow:"x1iyjqo2",justifyContent:"xl56j7k",$$css:!0},list:{display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",overflowX:"x6ikm8r",overflowY:"x10wlt62",$$css:!0}};function n(a,e,f,g){g===void 0&&(g=!1),c("promiseDone")(a.runInTransaction(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=(yield a.table("threads_ranges_v2__generated").get(e));if(b==null||b.isLoadingBefore)return;f&&f();return c("LSThreadsRangesQuery")(b.parentThreadKey,!0,!1,b.minThreadKey,b.maxThreadKey,b.maxLastActivityTimestampMs,b.minLastActivityTimestampMs,d("I64").zero,g,c("LSFactory")(a))});return function(b){return a.apply(this,arguments)}}(),"readwrite","ui"))}function o(a,e,f,g,h){f===void 0&&(f=d("LSIntEnum").ofNumber(c("LSThreadRangeFilter").NONE)),g===void 0&&(g=d("LSIntEnum").ofNumber(c("LSThreadRangeFilter").NONE)),c("promiseDone")(a.runInTransaction(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=(yield a.table("filtered_threads_ranges_v3__generated").get(e));if(b==null||b.isLoadingBefore)return;h&&h();return c("LSFilteredThreadsRangesQuery")(b.parentThreadKey,f,!0,!1,b.minThreadKey,b.maxThreadKey,b.maxLastActivityTimestampMs,b.minLastActivityTimestampMs,void 0,void 0,g,void 0,c("LSFactory")(a))});return function(b){return a.apply(this,arguments)}}(),"readwrite","ui"))}function p(a,b,e,f,g,h){e===void 0&&(e=d("LSIntEnum").ofNumber(c("LSThreadRangeFilter").NONE));f===void 0&&(f=d("LSIntEnum").ofNumber(c("LSThreadRangeFilter").NONE));h===void 0&&(h=!1);if(b==null)return;if(!b.threadRangeFilter){var i=d("ReQL").key(b.parentThreadKey,b.minThreadKey,b.minLastActivityTimestampMs);n(a,i,g,h)}else{i=d("ReQL").key(b.parentThreadKey,b.minThreadKey,b.minLastActivityTimestampMs,b.threadRangeFilter,b.folderName,b.secondaryThreadRangeFilter,b.threadRangeFilterValue);o(a,i,e,f,g)}}function q(a,b,e,f,g,h){h===void 0&&(h=!1),c("promiseDone")(a.runInTransaction(function(a){g==null?void 0:g();if(e==null)return c("LSThreadsRangesQuery")(b,!0,!1,d("I64").max_int,d("I64").max_int,d("I64").max_int,d("I64").max_int,d("I64").zero,h,c("LSFactory")(a));else return c("LSFilteredThreadsRangesQuery")(b,e,!0,!1,d("I64").max_int,d("I64").max_int,d("I64").max_int,d("I64").max_int,void 0,void 0,f,void 0,c("LSFactory")(a))},"readwrite","ui"))}function a(a){var b=a.afterContent,e=a.beforeContent,g=a.customThreadFilter_DO_NOT_USE,n=a.emptyContent,o=a.filter,r=a.gridLabel,s=a.loadMoreThreads,t=s===void 0?p:s;s=a.loadMoreThreadsForEmptyRange;var u=s===void 0?q:s,v=a.onLoadMoreThreads;s=a.onScroll;var w=a.onReachingTop,x=a.onThreadsLoaded,y=a.parentThreadKey,z=a.renderItem,A=a.renderLoadingAnimation,B=a.secondaryFilter,C=a.setIsEmptyInbox,D=a.shouldSkipE2eeThreadsRanges,E=D===void 0?!1:D;D=a.role;D=D===void 0?"grid":D;a=a.containerStyle;var F=c("useReStore")(),G=d("ReQLSuspense").useFirst(function(){if(o==null)return d("ReQL").fromTableDescending(F.table("threads_ranges_v2__generated")).getKeyRange(y);else return d("ReQL").fromTableDescending(F.table("filtered_threads_ranges_v3__generated")).getKeyRange(y).filter(function(a){return d("I64").equal(a.threadRangeFilter,o)&&(!B||d("I64").equal(a.secondaryThreadRangeFilter,B))})},[F,y,o,B],f.id+":344"),H=d("ReQLSuspense").useArray(function(){return d("ReQL").fromTableAscending(F.table("pinned_threads").index("pinnedTimestamp"))},[F],f.id+":365"),I=d("ReQLSuspense").useArray(function(){return l?d("ReQL").fromTableAscending(F.table("community_folders")):d("ReQL").empty()},[F],f.id+":371"),J=k(function(){return I.filter(function(a){return a.isHidden}).map(function(a){return d("I64").to_string(a.folderId)})},[I]),K=c("MetaConfig")._("44");G!=null&&!G.isLoadingBefore&&(x&&x());var L=G!=null?d("I64").equal(G.minLastActivityTimestampMs,d("I64").zero)||d("I64").equal(G.minLastActivityTimestampMs,d("I64").one)||(K?d("I64").equal(G.minLastActivityTimestampMs,d("I64").max_int):!1)?null:G.minLastActivityTimestampMs:null,M=G!=null?d("I64").equal(G.maxLastActivityTimestampMs,d("I64").zero)||d("I64").equal(G.maxLastActivityTimestampMs,d("I64").one)?null:G.maxLastActivityTimestampMs:null,N=d("Int64Hooks").useMemoInt64(function(){var a;return{gte:d("ReQL").key((a=L)!=null?a:d("I64").min_int),lte:d("ReQL").key((a=M)!=null?a:d("I64").max_int)}},[M,L]),O=d("Int64Hooks").useMemoInt64(function(){var a=d("ReQL").fromTableAscending(F.table("threads").index("parentThreadKeyLastActivityTimestampMs")).getKeyRange(y),b=d("ReQL").fromTableDescending(F.table("threads").index("parentThreadKeyLastActivityTimestampMs")).getKeyRange(y);function e(a){return a.filter(function(a){return c("MWCMIsThreadBumped")(a)&&J.includes(d("I64").to_string(a.parentThreadKey))?!1:d("MWThreadListSupportedThreadTypes.bs").supportedThreadTypes.findIndex(function(b){return d("I64").equal(a.threadType,b)})!==-1&&(!c("MetaConfig")._("45")||H.findIndex(function(b){return d("I64").equal(a.threadKey,b.threadKey)})===-1)&&(d("MWXacGating.bs").isGroupsEnabled()||!d("MWIsXacGroupThread.bs").check(a))&&(!g||g(a))})}var f=e(l?d("ReQL").union(a,d("ReQL").fromTableAscending(F.table("threads").index("secondaryParentThreadKeyLastActivityTimestampMs")).getKeyRange(y)):a),h=e(l?d("ReQL").union(b,d("ReQL").fromTableDescending(F.table("threads").index("secondaryParentThreadKeyLastActivityTimestampMs")).getKeyRange(y)):b);return{entries:function(a,b,c){return(b==="asc"?f:h).iterator(a,c)},keyLength:f.keyLength,subscribe:function(a,b){var c=f.subscribe(function(b,c,d){return a(b,c,d)},b),d=h.subscribe(function(b,c,d){return a(b,c,d)},b);return function(){c(),d()}}}},[F,y,H,g,J]),P=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableDescending(O).bounds(N)},[N,O],f.id+":520")==null;j(function(){C&&C(P)},[P,C]);d("Int64Hooks").useEffectInt64(function(){G==null&&u(F,y,o,B,v)},[y,G,F,o,B,v,u]);x=c("useMarkSeenWhenVisible")(y);K=i(function(){t(F,G,o,B,v,E)},[F,t,G,o,B,v,E]);var Q=i(function(a){return h.jsx(h.Fragment,{children:z(a)},d("I64").to_string(a.threadKey))},[z]);return G==null?A!=null?A():null:h.jsx(c("Box.react"),{"aria-label":r,"data-testid":void 0,ref:x,role:D,xstyle:[m.container,a],children:h.jsx(d("MWThreadListFocusableTable.react").MWThreadListFocusableTable,{children:h.jsx(c("ReQLPaginatedList.react"),{bounds:N,direction:"desc",hasReachedBottom:!G.hasMoreBefore,hasReachedTop:!G.hasMoreAfter,onReachingBottom:K,onReachingTop:w,onScroll:s,renderEmptyContent:function(){return P&&!G.isLoadingAfter&&!G.isLoadingBefore?h.jsx(c("Box.react"),{xstyle:m.emptyContentContainer,children:n}):null},renderFooter:function(){return b},renderHeader:function(){return e},renderItem:Q,renderLoadingAnimation:A,table:O,xstyle:m.list})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWThreadListFolderItem.react",["BaseView.react","CometTextWithEntities.react","I64","MAWVault","MDSListCell.react","MDSTextPairing.react","MWAddOnCircleContainer.react","MWCMThreadTypes.react","MWChatTextTransform","MWPIsThreadUnread.bs","MWThreadListFocusableTable.react","MWThreadListLastMessage.react","MWXText.react","ReQL","ReQLSuspense","react","useMatchMedia","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useCallback,j=b.useMemo;function a(a){var b=a.icon,e=a.onClick,g=a.responsive,k=a.selectedThreadKey,l=a.size,m=a.systemFolder,n=a.thread,o=a.threadName,p=c("useReStore")();a=c("useMatchMedia")("(min-width: 900px)")||!g;g=d("ReQLSuspense").useFirst(function(){return k!=null?d("ReQL").fromTableAscending(p.table("threads")).getKeyRange(k).filter(function(a){a=a.parentThreadKey;return d("I64").equal(a,m)}):d("ReQL").empty()},[p,k,m],f.id+":69")!=null;var q=j(function(){return n.snippet!=null?d("MAWVault").unvault(n.snippet):null},[n]),r=d("I64").to_float(n.lastActivityTimestampMs),s=d("MWPIsThreadUnread.bs").isThreadUnread(n),t=j(function(){return h.jsx(c("MWAddOnCircleContainer.react"),{size:function(){switch(l){case"s_28":return 28;case"s_36":return 36;case"s_40":return 40;case"s_48":return 48;case"s_56":return 56}}(),children:b})},[b,l]),u=j(function(){var a;return(a=n.threadName)!=null?a:o},[n.threadName,o]),v=j(function(){return h.jsx(c("MWXText.react"),{color:"primary",numberOfLines:1,type:s?"headlineEmphasized4":"body3",children:h.jsx(c("CometTextWithEntities.react"),{text:u.toString(),transforms:d("MWChatTextTransform").epdTextTransforms})})},[s,u]),w=i(function(){return e()},[e]);return h.jsx(c("BaseView.react"),{testid:void 0,children:h.jsx(d("MWThreadListFocusableTable.react").MWThreadListFocusableTableRow,{children:h.jsx("div",{role:"row",children:h.jsx(d("MWThreadListFocusableTable.react").MWThreadListFocusableTableCell,{children:h.jsx("div",{className:"xurb0ha x1sxyh0",role:"gridcell",children:h.jsx(c("MDSListCell.react"),{addOnStart:t,content:h.jsx(c("MDSTextPairing.react"),{body:a?h.jsx(c("MWThreadListLastMessage.react"),{hasOngoingCall:!1,isUnread:s,lastMessageTimestamp:r,showTimestamp:!d("MWCMThreadTypes.react").isUnjoinedCMThread(n.threadType),snippet:q}):null,bodyLineLimit:1,headline:a?v:null,headlineLineLimit:1,level:4,reduceEmphasis:!s}),onPress:w,selected:g,size:"large"})})})})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWThreadListJobsItem.bs",["fbt","ix","LSIntEnum","MWThreadListFolderItem.react","MWXIcon.react","bs_curry","fbicon","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react");function a(a){var b=a.onClick,e=a.responsive,f=a.selectedThreadKey,g=a.size;a=a.thread;var k=function(){return c("bs_curry")._1(b,d("LSIntEnum").ofNumber(-13))};return j.jsx(c("MWThreadListFolderItem.react"),{icon:j.jsx(c("MWXIcon.react"),{color:"primary",icon:d("fbicon")._(i("512668"),32),size:56}),onClick:k,responsive:e,selectedThreadKey:f,size:g,systemFolder:d("LSIntEnum").ofNumber(-13),thread:a,threadName:h._("__JHASH__fyt3EBzeQRx__JHASH__")})}a.displayName=a.name+" [from "+f.id+"]";b=a;g.make=b}),98);
__d("MWThreadList.bs",["fbt","CometPlaceholder.react","FocusRegion.react","GroupsCometChatsEngagementLogger","I64","Int64Hooks","JSResourceForInteraction","LSIntEnum","LSMessagingThreadTypeUtil","MWCMIsThreadBumped","MWIsXacGroupThread.bs","MWJewelPopoverThreadlistContext.react","MWLSJewelMessageRequestsThread.bs","MWPBaseThreadList.react","MWPBumpEntityKey","MWPThreadIsPage.react","MWPThreadsForThreadList.bs","MWThreadKey.bs","MWThreadListGlimmer.react","MWThreadListItem.bs","MWThreadListJobsItem.bs","MWThreadListSupportedThreadTypes.bs","MWThread_DEPRECATED.bs","MWXText.react","MWXacGating.bs","ReQL.bs","ReQLSuspense","cr:12211","cr:2261","cr:4716","gkx","lazyLoadComponent","qex","react","recoverableViolation","useCometUniqueID","useGroupsCometChatAdmodThreadImpressionStateUpdateMutation","useReStore","useSimpleImpression"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=d("react"),k=j.useContext,l=j.useEffect,m=c("lazyLoadComponent")(c("JSResourceForInteraction")("MWThreadListNullState.react").__setRef("MWThreadList.bs"));function a(a){c("useSimpleImpression")(a)}function n(){i.useEffect(function(){c("recoverableViolation")("Unknown thread type","messenger_web_product")},[]);return null}function o(a){var b=d("I64").to_string(a.threadKey),c=a.threadType;a=a.cannotUnsendReason;if(a!=null&&d("I64").equal(c,d("LSIntEnum").ofNumber(1))&&d("I64").equal(a,d("I64").of_string("4")))return{NAME:"Page",VAL:b};if(d("LSMessagingThreadTypeUtil").isOneToOne(c))return{NAME:"User",VAL:b};else if(d("LSMessagingThreadTypeUtil").isGroup(c))return{NAME:"Group",VAL:b};else return}var p=c("gkx")("1968579")===!1,q=c("gkx")("6709");function r(a){var e=a.lsEntryPoint,f=a.messagingEntrypoint,g=a.onClickNestedFolderThread,h=a.onClose,j=a.responsive,m=a.selectedThreadKey,r=a.thread,s=k(c("MWJewelPopoverThreadlistContext.react")),t=r.threadKey;l(function(){if(!p||b("cr:2261")==null)return;s==null?void 0:s.add(t);return function(){s==null?void 0:s["delete"](t)}},[s,t]);a=c("useGroupsCometChatAdmodThreadImpressionStateUpdateMutation")();var u=a[0],v=a[1];a=d("Int64Hooks").useMemoInt64(function(){return function(){c("MWCMIsThreadBumped")({secondaryParentThreadKey:r.secondaryParentThreadKey,threadType:r.threadType})&&!v&&q&&u({thread_id:d("I64").to_string(r.threadKey)}),c("MWCMIsThreadBumped")({secondaryParentThreadKey:r.secondaryParentThreadKey,threadType:r.threadType})&&d("GroupsCometChatsEngagementLogger").log({action:"tap",event:"thread_open",source:"chat_row",surface:"messenger_inbox",thread_id:d("I64").to_string(r.threadKey),client_extras:{is_bumped:"true"}})}},[v,r.threadKey,r.secondaryParentThreadKey,r.threadType,u]);if(d("I64").equal(r.threadType,d("LSIntEnum").ofNumber(6))){var w=r.threadKey;if(!d("I64").equal(w,d("LSIntEnum").ofNumber(-12)))if(d("I64").equal(w,d("LSIntEnum").ofNumber(-13)))return i.jsx(d("MWThreadListJobsItem.bs").make,{onClick:g,responsive:j,selectedThreadKey:m,size:"s_56",thread:r});else return null;return!p||b("cr:2261")==null?null:i.jsx(b("cr:2261"),{onClick:g,responsive:j,selectedThreadKey:m,size:"s_56",thread:r})}w=o(r);return w!=null&&w.VAL!=="0"?i.jsx(d("MWThread_DEPRECATED.bs").make,{id:w,children:i.jsx(c("CometPlaceholder.react"),{fallback:i.jsx(c("MWThreadListGlimmer.react"),{}),children:i.jsx(d("MWPThreadIsPage.react").Provider,{threadKey:r.threadKey,children:i.jsx(d("MWThreadKey.bs").make,{id:r.threadKey,children:i.jsx(d("MWThreadListItem.bs").make,{lsEntryPoint:e,messagingEntrypoint:f,onClose:h,onThreadSelected:a,responsive:j,selected:m!=null&&d("I64").equal(m,r.threadKey),size:56,thread:r})})})})}):i.jsx(n,{})}r.displayName=r.name+" [from "+f.id+"]";var s=b("cr:12211")==null?function(a){}:b("cr:12211").useHook;function e(a){var e=a.onClose,g=a.onClickNestedFolderThread,j=a.gridLabel,k=a.header,l=a.lsEntryPoint,n=a.onOpenMessageRequests,o=a.parentThreadKey,p=a.responsive,q=a.selectedThreadKey,t=a.setHasScrolled,u=a.setIsEmptyInbox,v=a.threadListMessagingEntrypoint,w=e!=null?e:function(){};a=(e=a.preamble)!=null?e:null;var x=g!=null?g:function(){},y=c("useReStore")(),z=d("ReQLSuspense").useFirst(function(){return d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(y.table("threads_ranges_v2__generated")),{hd:o,tl:0})},[y,o],f.id+":308"),A=d("ReQLSuspense").useArray(function(){return d("ReQL.bs").take(d("ReQL.bs").filter(d("ReQL.bs").filter(d("MWPThreadsForThreadList.bs").createIterable(y,o,z),function(a){return d("MWThreadListSupportedThreadTypes.bs").supportedThreadTypes.findIndex(function(b){return d("I64").equal(a.threadType,b)})!==-1}),function(a){if(d("MWXacGating.bs").isGroupsEnabled())return!0;else return!d("MWIsXacGroupThread.bs").check(a)}),5)},[y,o,z],f.id+":322").pop();e=k!=null?i.jsx(d("FocusRegion.react").FocusRegion,{children:k}):null;g=c("useCometUniqueID")();s(g);k=d("MWLSJewelMessageRequestsThread.bs").useHook(n);n=i.useCallback(function(a){var b;return a!=null?i.jsx(r,{lsEntryPoint:l==="inboxThreadList"?A!=null&&d("I64").le(a.lastActivityTimestampMs,A.lastActivityTimestampMs)?"inboxRecentThreads":"inboxRemainingThreads":l,messagingEntrypoint:(b=v)!=null?b:"jewel",onClickNestedFolderThread:x,onClose:w,responsive:p,selectedThreadKey:q,thread:a}):i.jsx("div",{})},[p,v,l,w,x,q,A]);var B=b("cr:4716")==null?null:i.jsx(b("cr:4716"),{renderItem:n}),C=i.useCallback(function(a){t&&t(function(b){return a.scrollTop>0})},[t]);e={beforeContent:i.jsxs(i.Fragment,{children:[e,k,a,B]}),emptyContent:c("qex")._("1310")===!0?i.jsx(c("CometPlaceholder.react"),{fallback:null,children:i.jsx(m,{parentThreadKey:o})}):i.jsx("div",{className:"xyamay9 x1pi30zi x1l90r2v x1swvt13",children:i.jsx(c("MWXText.react"),{align:"center",type:"body2",children:h._("__JHASH__1gb6sA7PX-j__JHASH__")})}),gridLabel:j,itemPlaceholder:i.jsx(c("MWThreadListGlimmer.react"),{numberOfItems:2}),onLoadMoreThreads:function(){return d("MWPBumpEntityKey").bumpEntityKeyWithAppId("mw.threadlist","load_more_threads")},onScroll:C,parentThreadKey:o,renderItem:n,renderLoadingAnimation:function(){return i.jsx(c("MWThreadListGlimmer.react"),{numberOfItems:2})}};return i.jsx("div",{className:"x78zum5 xdt5ytf x1iyjqo2 x6ikm8r x10wlt62",id:g,children:i.jsx(c("MWPBaseThreadList.react"),babelHelpers["extends"]({},e,{setIsEmptyInbox:u}))})}e.displayName=e.name+" [from "+f.id+"]";j=56;var t="s_56";e=e;g.useSimpleImpression=a;g.threadlistItemHeight=j;g.threadListItemHeightListCell=t;g.make=e}),98);
__d("MWJewelNestedFolderThreadList.react",["CometScrollView.react","CometTopNavListDropdown.react","MWJewelNestedFolderThreadListHeader.react","MWThreadList.bs","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.folder,e=a.onClose,f=a.onReturn;a=a.title;return h.jsx(c("CometTopNavListDropdown.react").Card,{useMaxHeight:!0,children:h.jsxs(c("CometScrollView.react"),{showsHorizontalScrollIndicator:!1,showsVerticalScrollIndicator:!0,children:[h.jsx(c("MWJewelNestedFolderThreadListHeader.react"),{onReturn:f,title:a}),h.jsx(d("MWThreadList.bs").make,{gridLabel:typeof a==="string"?a:a.toString(),lsEntryPoint:"jewelNestedFolder",onClose:e,parentThreadKey:b,responsive:!1}),h.jsx("div",{className:"x1qx5ct2"})]})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometMessagingJewelDropdownContent.react",["fbt","CometErrorBoundary.react","CometHeroInteractionWithDiv.react","CometMessagingJewelCommunitiesQPBannerContainer.react","CometMessagingJewelDropdownQPBannerContainer.react","CometPlaceholder.react","CometSettingsListDropdownLoadingState.react","CometTopNavListDropdown.react","CometTransientDialogProvider.react","FBLogger","I64","InteractionTracing","JSResourceForInteraction","LSIntEnum","MWCMJewelContext","MWChatSearchClearSearchResults.bs","MWInboxContextSwitcherGlimmer.react","MWInboxQuickPromotionWrapper.react","MWJewelDropdownHeader.react","MWJewelMessengerAppLinkV2.react","MWJewelNestedFolderThreadList.react","MWJewelPopoverDialogContext.react","MWThreadList.bs","ODS","WebUXLoggingEntryPointContextProvider","XCometMessengerControllerRouteBuilder","cr:5735","deferredLoadComponent","gkx","lazyLoadComponent","qpl","react","recoverableViolation","requireDeferredForDisplay"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");e=d("react");var j=e.memo,k=e.useCallback,l=e.useContext,m=e.useEffect,n=e.useRef,o=e.useState,p=c("deferredLoadComponent")(c("requireDeferredForDisplay")("MWInboxContextSwitcherCond.react").__setRef("CometMessagingJewelDropdownContent.react")),q=c("lazyLoadComponent")(c("JSResourceForInteraction")("MWCMBlendedThreadListCond").__setRef("CometMessagingJewelDropdownContent.react")),r=c("lazyLoadComponent")(c("JSResourceForInteraction")("MAWJewelMessageRequestsAndSpamDropdownWithTab.react").__setRef("CometMessagingJewelDropdownContent.react")),s=c("lazyLoadComponent")(c("JSResourceForInteraction")("MWRestrictedAccountsListForJS").__setRef("CometMessagingJewelDropdownContent.react")),t=c("lazyLoadComponent")(c("JSResourceForInteraction")("MWJewelArchivedChatsDropdown.react").__setRef("CometMessagingJewelDropdownContent.react")),u=c("lazyLoadComponent")(c("JSResourceForInteraction")("MWUncaughtErrorState.react").__setRef("CometMessagingJewelDropdownContent.react")),v=h._("__JHASH__9FTPnWJWCay__JHASH__");function w(a){c("recoverableViolation")("CometMessagingJewelDropdownQPBannerContainer failed to render","messenger_web_product",{error:a})}var x={errorBoundary:{height:"x20eyyc",$$css:!0},headerContainer:{flexGrow:"x1c4vz4f",$$css:!0}},y=c("gkx")("6975")===!0;function z(a){var e=a.onClose,f=a.pushPage,g=a.qpBannerCommunitiesContainerQueryRef;a=a.qpBannerContainerQueryRef;var j=l(c("MWJewelPopoverDialogContext.react")),u=j.setIsOpenForDialog,x=d("MWChatSearchClearSearchResults.bs").useHook(),z=k(function(){x(),e()},[e,x]);m(function(){return x},[x]);j=o(!1);j[0];var A=j[1];j=o("");var B=j[0];j=j[1];var C=c("XCometMessengerControllerRouteBuilder").buildURL({});j=b("cr:5735")(A,j,B,f,z);B=l(c("MWCMJewelContext"));var D=B.selectedFolderTab,E=B.setSelectedFolderTab,F=n();B=k(function(){var a=c("InteractionTracing").startInteraction({interactionClass:"fast",qplEvent:c("qpl")._(30607516,"756"),tracePolicy:"comet.jewel.message_requests",traceType:"INTERACTION"});f(function(b){b=b.onReturn;b={interactionID:a,onClose:z,onReturn:b};return i.jsx(r,babelHelpers["extends"]({},b))})},[z,f]);var G=k(function(){f(function(a){a=a.onReturn;return i.jsx(s,{hidePage:a,onClose:z})})},[z,f]),H=k(function(){d("ODS").bumpEntityKey(3185,"mw_jewel","archived_chats"),f(function(a){a=a.onReturn;return i.jsx(t,{onClose:z,onReturn:a})})},[z,f]),I=k(function(a){f(function(b){b=b.onReturn;switch(d("I64").to_int32(a)){case-13:return i.jsx(c("MWJewelNestedFolderThreadList.react"),{folder:a,onClose:z,onReturn:b,title:h._("__JHASH__yJarfmqcRDP__JHASH__")});case-12:return i.jsx(c("MWJewelNestedFolderThreadList.react"),{folder:a,onClose:z,onReturn:b,title:h._("__JHASH__Yxm-6KVT3xg__JHASH__")});default:c("FBLogger")("messenger_web_product").mustfix("Attempted to show an unimplemented nested system folder");return null}})},[z,f]);H=i.jsxs(i.Fragment,{children:[i.jsx(c("MWJewelDropdownHeader.react"),{inboxUrl:C,onClose:z,onOpenArchivedChats:H,onOpenMessageRequests:B,onOpenRestrictedAccountsList:G,title:v}),i.jsxs("div",{className:"x1c4vz4f",children:[j," ",y&&i.jsx(c("CometPlaceholder.react"),{fallback:i.jsx(c("MWInboxContextSwitcherGlimmer.react"),{}),children:i.jsx(p,{entryPoint:"jewel",onTabChange:function(a){d("I64").equal(a,d("LSIntEnum").ofNumber(-14))&&(F.current=c("InteractionTracing").startInteraction({interactionClass:"fast",qplEvent:c("qpl")._(30620417,"938"),tracePolicy:"comet.jewel.messenger.communities",traceType:"INTERACTION"})),u(!1),A(!1),E==null?void 0:E(a)},selectedFolderTab:D})})]}),d("I64").equal(D,d("LSIntEnum").ofNumber(0))?i.jsx(c("MWInboxQuickPromotionWrapper.react"),{onError:w,children:i.jsx(c("CometMessagingJewelDropdownQPBannerContainer.react"),{queryRef:a})}):null]});return i.jsx(c("CometPlaceholder.react"),{fallback:i.jsx(c("CometSettingsListDropdownLoadingState.react").WithoutPopover,{title:v}),children:i.jsx(d("WebUXLoggingEntryPointContextProvider").WebUXLoggingEntryPointContextProvider,{value:"jewel",children:i.jsx(c("CometHeroInteractionWithDiv.react"),{interactionDesc:"CommunitiesTabOnJewel",interactionUUID:F.current,children:i.jsxs(c("CometTopNavListDropdown.react").Card,{testid:void 0,useFullHeight:y,useMaxHeight:!0,children:[y&&d("I64").equal(D,d("LSIntEnum").ofNumber(-14))?i.jsx(c("CometPlaceholder.react"),{fallback:i.jsxs(i.Fragment,{children:[H,i.jsx(c("CometSettingsListDropdownLoadingState.react").InnerGlimmer,{})]}),children:i.jsx(q,{gridLabel:v.toString(),header:i.jsxs(i.Fragment,{children:[H,i.jsx(c("CometErrorBoundary.react"),{onError:w,children:i.jsx(c("CometPlaceholder.react"),{fallback:null,children:i.jsx(c("CometTransientDialogProvider.react"),{children:i.jsx(c("CometMessagingJewelCommunitiesQPBannerContainer.react"),{messagingEntryPoint:"jewel",onClose:z,queryRef:g})})})})]}),lsEntryPoint:"jewel",messagingEntryPoint:"jewel",onClose:z,responsive:!1})}):i.jsx(d("MWThreadList.bs").make,{gridLabel:v.toString(),header:H,lsEntryPoint:"jewel",onClickNestedFolderThread:I,onClose:z,onOpenMessageRequests:B,parentThreadKey:D,responsive:!1}),i.jsx(c("MWJewelMessengerAppLinkV2.react"),{onClick:z,url:C})]})})})})}z.displayName=z.name+" [from "+f.id+"]";function a(a){var b=a.errorBoundaryXstyle;a=babelHelpers.objectWithoutPropertiesLoose(a,["errorBoundaryXstyle"]);return i.jsx(c("CometErrorBoundary.react"),{fallback:function(a){return i.jsx(u,{error:a,xstyle:[b,x.errorBoundary]})},children:i.jsx(z,babelHelpers["extends"]({},a))})}a.displayName=a.name+" [from "+f.id+"]";e=j(a);g["default"]=e}),98);
__d("MWChatSearchTypeheadActionButtonViewItem.react",["CometSkittleIcon.react","CometTypeaheadViewItem.react","MWXText.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.entry,d=a.icon,e=a.onHighlightEntry,f=a.onPressEntry;a=a.title;d=h.jsx(c("CometSkittleIcon.react"),{color:"gray",icon:d,size:36});return h.jsx("div",{className:"xe8uvvx xexx8yu xsyo7zv x18d9i69 x16hj40l",role:"listbox",children:h.jsx(c("CometTypeaheadViewItem.react"),{entry:b,isActive:!1,itemStartContent:d,onHighlightEntry:e,onPressEntry:f,role:"option",children:h.jsx(c("MWXText.react"),{type:"body3",children:a})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useMWLoggerEntrypoint",["$InternalEnum","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h=b("$InternalEnum")({INBOX:"messenger_dot_com",CHAT_TAB:"comet_www_chat",COMET_INBOX:"comet_www_inbox",FULLSCREEN_CHAT:"comet_www_fullscreen_chat"});function a(a){var b=c("gkx")("1968579"),d=null;a!==void 0&&(a==="Inbox"?d=b?h.INBOX:h.COMET_INBOX:a==="ChatTab"?d=h.CHAT_TAB:a==="FullscreenChat"&&(d=h.FULLSCREEN_CHAT));return d}g["default"]=a}),98);
__d("MWChatSearchTypeaheadCreateCommunityChatActionButtonViewItem.react",["fbt","$InternalEnum","GroupsCometChatsEngagementLogger","GroupsCometGlobalChatCreationDialog.entrypoint","LSThreadAttributionStore.bs","MWChatSearchTypeheadActionButtonViewItem.react","MWLSThreadDisplayContext","MessengerGroup.svg.react","emptyFunction","react","useCometEntryPointDialog","useGroupsCometChatsEngagementImpressionLogger","useMWLoggerEntrypoint"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=b("$InternalEnum")({CHAT_HEAD:"bottom_chat_create",JEWEL:"top_chat_create"});function a(){var a=c("useCometEntryPointDialog")(c("GroupsCometGlobalChatCreationDialog.entrypoint"),{}),b=a[0],e=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext(),f=c("useMWLoggerEntrypoint")(e);a=d("LSThreadAttributionStore.bs").getSourceForNewThread();var g=a==="chatheadsNewMessage"?j.CHAT_HEAD:a==="jewelNewMessage"?j.JEWEL:null;a=c("useGroupsCometChatsEngagementImpressionLogger")({client_extras:{entry_point:(a=f)!=null?a:"",origin:(a=g)!=null?a:""},event:"community_chat_button_impression",surface:"chat_creation_template_list"});return i.jsx("div",{ref:a,children:i.jsx(c("MWChatSearchTypeheadActionButtonViewItem.react"),{entry:{key:"newCommunityChat",label:"New Community Chat",type:"entry"},icon:c("MessengerGroup.svg.react"),onHighlightEntry:c("emptyFunction"),onPressEntry:function(){var a;b({entrypoint:f!=null?f:void 0,shouldCloseComposeTab:e==="ChatTab",shouldGoToMessenger:e==="Inbox"},function(){});d("GroupsCometChatsEngagementLogger").log({action:"tap",client_extras:{entry_point:(a=f)!=null?a:"",origin:(a=g)!=null?a:""},event:"create_cc_button_clicked",source:"create_cc_button",surface:"chat_creation_template_list"})},title:h._("__JHASH__Wh17zqow6GS__JHASH__")})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWCreateSocialChannelDialog.entrypoint",["JSResourceForInteraction","MWCreateSocialChannelDialogQuery$Parameters"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(){return{queries:{queryReference:{parameters:c("MWCreateSocialChannelDialogQuery$Parameters"),variables:{}}}}},root:c("JSResourceForInteraction")("MWCreateSocialChannelDialog.react").__setRef("MWCreateSocialChannelDialog.entrypoint")};g["default"]=a}),98);
__d("MessagesFilled12.svg.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){return h.jsxs("svg",babelHelpers["extends"]({fill:"currentColor",viewBox:"0 0 12 13",width:"1em",height:"1em"},a,{children:[a.title!=null&&h.jsx("title",{children:a.title}),a.children!=null&&h.jsx("defs",{children:a.children}),h.jsx("g",{fillRule:"evenodd",transform:"translate(-450 -1073)",children:h.jsxs("g",{children:[h.jsx("path",{d:"M106.54 930.662c-.258-.102-.54.102-.54.38v1.15a3.309 3.309 0 0 1-3.308 3.308h-1.025a.395.395 0 0 0-.25.088l-1.233.987a.401.401 0 0 0 .066.667c.317.165.677.258 1.059.258h1.515l2.364 1.89A.5.5 0 0 0 106 939v-1.52a2.311 2.311 0 0 0 2-2.288v-2.383c0-.974-.605-1.808-1.46-2.147",transform:"translate(354 146)"}),h.jsx("path",{d:"M102.691 927.5h-4.383A2.31 2.31 0 0 0 96 929.808v2.384a2.31 2.31 0 0 0 2 2.287V936a.499.499 0 0 0 .812.39l2.364-1.89h1.515a2.31 2.31 0 0 0 2.309-2.308v-2.384a2.31 2.31 0 0 0-2.309-2.308",transform:"translate(354 146)"})]})})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("MDCAction",["$InternalEnum"],(function(a,b,c,d,e,f){a=b("$InternalEnum")({IMPRESSION:1,TAP:2,FOCUS:3,UNFOCUS:4,SCROLL:5});c=a;f["default"]=c}),66);
__d("MDCClientEvent",["$InternalEnum"],(function(a,b,c,d,e,f){a=b("$InternalEnum")({ADD_AS_ADMIN_INITATION:1,BLOCK_FROM_CHAT:2,BLOCK_MESSAGES_AND_CALLS:3,BLOCK_MESSAGES_AND_CALLS_FAILURE:4,BLOCK_MESSAGES_AND_CALLS_SUCCESS:5,BLOCK_ON_FACEBOOK:6,BLOCK_ON_FB_FAILURE:7,BLOCK_ON_FB_SUCCESS:8,BLOCK_USER_INITIATION:9,CHAT_SETUP_SELECT_LINK_RECIPIENT:10,CHAT_SETUP_SHEET_RENDERED:11,CHAT_SETUP_UNSELECT_LINK_RECIPIENT:12,CHAT_SHARE_LINK_SHEET_RENDERED:13,CONFIRM_PUBLIC_CHAT_ACKNOWLEDGEMENT:14,CREATOR_NUX_SHEET_RENDERED:15,DISCOVER_GROUP_CHAT:16,EDIT_CHAT:17,EDIT_CHAT_DESCRIPTION:18,EDIT_CHAT_FAILURE:19,EDIT_CHAT_NAME:20,EDIT_CHAT_SUCCESS:21,EDIT_MEMBER_REQUESTS:22,EVENT_COPY_LINK:23,EVENT_REMINDER_QP_CLICK:24,EVENT_REMINDER_QP_IMPRESSION:25,EVENT_REMINDER_XMA_IMPRESSION:26,EVENT_REMINDER_XMA_TAP:27,EVENT_SHARE_LINK:28,GROUP_CHAT_BUTTON_IMPRESSION:29,INVITE_LINK_IMPRESSION:30,INVITE_LINK_TAPPED:31,JOIN_CHAT_CLOSED:32,JOIN_CHAT_CONFIRM:33,JOIN_CHAT_CONSENT_CONFIRM:34,JOIN_CHAT_INITIATION:35,JOIN_CHAT_SHEET_RENDERED:36,MEMBER_REQUEST_JOIN_APPROVED:37,MEMBER_REQUEST_JOIN_DENIED:38,REMOVE_FROM_CHAT:39,REMOVE_FROM_CHAT_FAILURE:40,REMOVE_FROM_CHAT_INITIATION:41,REMOVE_FROM_CHAT_SUCCESS:42,REPORT_CHAT_TO_ADMIN_FAILURE:43,REPORT_CHAT_TO_ADMIN_INITIATION:44,REPORT_CHAT_TO_ADMIN_SUCCESS:45,REPORT_MESSAGE_TO_ADMINS:46,REPORT_MESSAGE_TO_ADMINS_FAILURE:47,REPORT_MESSAGE_TO_ADMINS_INITIATION:48,REPORT_MESSAGE_TO_ADMINS_SUCCESS:49,REQUEST_JOIN_CHAT_ERROR:50,REQUEST_JOIN_CHAT_SUCCESS:51,REQUEST_JOIN_GROUP_CHAT:52,REQUIRE_APPROVAL_TO_JOIN_DISABLED:53,REQUIRE_APPROVAL_TO_JOIN_ENABLED:54,SET_CHAT_CREATION_PHOTO:55,SET_CHAT_PHOTO:56,SET_GROUP_TYPE:57,THREAD_CREATE_ATTEMPT:58,THREAD_CREATE_ERROR:59,THREAD_CREATE_SUCCESS:60,THREAD_SETTINGS_RENDERED:61,UNBLOCK_FROM_CHAT:62,UNDO_APPROVE_MEMBER_REQUESTS:63,UNDO_DENY_MEMBER_REQUESTS:64,VIEW_ADMIN_MEMBERS:65,VIEW_ALL_MEMBERS:66,VIEW_EVENT:67,VIEW_MEMBER_REQUESTS:68,VIEW_USER_FB_PROFILE:69,VIEW_USER_PROFILE:70,BAN_FROM_CHAT_INITIATION:71,BAN_FROM_CHAT_SUCCESS:72,BAN_FROM_CHAT_FAILURE:73,UNBAN_FROM_CHAT_INITIATION:74,UNBAN_FROM_CHAT_SUCCESS:75,UNBAN_FROM_CHAT_FAILURE:76,COPY_LINK:77,SHARE_LINK_TO_FB_INITIATION:78,SHARE_LINK_TO_FB_CONFIRM:79,SUBMIT_FEEDBACK_INITATION:80,SUBMIT_FEEDBACK:81,SUBMIT_FEEDBACK_FAILURE:82,SUBMIT_FEEDBACK_SUCCESS:83,BAN_FROM_CHAT:84,ADD_THREAD_PHOTO:85,CHANGE_THREAD_PHOTO:86,SHARE_LINK_SENT:87,REMOVE_THREAD_PHOTO:88,INSTALL_MESSENGER_UPSELL_VIEWED:89,DOWNLOAD_MESSENGER_BUTTON_CLICKED:90,POST_XMA_VIEWED:91,THREAD_JOIN:92,SHARE_TO_FACEBOOK_BUTTON_CLICKED:93,SHARE_TO_FACEBOOK_BOTTOMSHEET_VIEWED:94,CHAT_SHARED_TO_FACEBOOK:95,THREAD_OPEN:96,CHAT_RENDERED_IN_MIB_INBOX:97,REPORT_MESSAGE_TO_META:98,ADMIN_REMOVE_MESSAGE:99,REMOVE_MESSAGE:100,MESSAGE_SEND:101,DELETE_CHAT:102,LEAVE_CHAT:103,MUTE_CHAT:104,UNMUTE_CHAT:105,PUBLIC_CHAT_LINK_ATTACHMENT_RENDERED:106,PUBLIC_CHAT_LINK_ATTACHMENT_TAPPED:107,NOTIF_IMPRESSION:108,NOTIF_CLICKED:109,REPORT_CHAT_TO_FACEBOOK:110,REPORTED_CONTENTS_RENDERED:111,NOTIFICATION_CONTROL_RENDERED:112,NOTIFICATION_CONTROL_HIGHLIGHTS_SELECTED:113,NOTIFICATION_CONTROL_ALL_SELECTED:114,NOTIFICATION_CONTROL_MENTIONS_AND_REPLIES_SELECTED:115,NOTIFICATION_CONTROL_NONE_SELECTED:116,NOTIFICATION_CONTROL_MUTE_SELECTED:117,NOTIFICATION_CONTROL_UNMUTE_SELECTED:118,USER_PROFILE_BOTTOMSHEET:119,MESSAGE_USER:120,BLOCKED_USER_WARNING_RENDERED:121,BLOCKED_USER_WARNING_CONFIRM:122,BLOCKED_USER_WARNING_LEAVE:123,PUSH_NOTIFICATION_MESSAGE_RECEIVED_RENDERED:124,PUSH_NOTIFICATION_MESSAGE_RECEIVED_TAPPED:125,NOTIF_SENT:126,NOTIF_CONVERTED:127,OPEN_INVITE_LINK_VIEW:128,INVITE_SCREEN_RENDERED:129,INVITE_BUTTON_TAPPED:130,SEND_BUTTON_TAPPED:131,VIEW_CHAT_BUTTON_TAPPED:132,PROMOTE_ADMIN_BUTTON_TAPPED:133,DEMOTE_ADMIN_BUTTON_TAPPED:134,ADMIN_LIMIT_REACHED_IMPRESSION:135,PROMOTE_ADMIN_FAIL_IMPRESSION:136,DEMOTE_ADMIN_FAIL_IMPRESSION:137,FIRST_CREATE_BOTTOMSHEET_RENDERED:138,CREATE_CHANNEL_SCREEN_RENDERED:139,SHOW_ON_PROFILE_TOGGLE:140,JOIN_APPROVAL_TOGGLE:141,NAME_TEXT_INPUT:142,CHANGE_IMAGE_TAPPED:143,THREAD_CREATE:144,DISMISS_BUTTON_TAPPED:145,SHARE_TO_FEED_SCREEN_RENDERED:146,SHARE_TO_FEED_SKIPPED:147,SHARE_TO_FEED_BUTTON_TAPPED:148,POST_TEXT_INPUT:149,INVITE_TO_CHAT_SCREEN_RENDERED:150,COPY_LINK_TAPPED:151,DONE_BUTTON_TAPPED:152,INVITE_SENT_SUCCESS:153,SEARCH_BAR_INPUT_FOCUS:154,SEARCH_BAR_INPUT_UNFOCUS:155,SHOW_ON_PROFILE_RENDERED:156,SHOW_ON_PROFILE_TAPPED:157,PRIMARY_PROFILE_QP_RENDERED:158,CREATE_CHANNEL_TAPPED:159,NOT_NOW_TAPPED:160,PROFILE_ABOUT_CHANNEL_SECTION_RENDERED:161,VIEW_PINNED_CHANNELS:162,UNDO_BUTTON_TAPPED:163,INVITE_SENT_FAILED:164,INVITE_ACCEPT:165,INVITE_DECLINE:166,DIRECT_INVITE_NOTIFICATION_RENDERED:167,DIRECT_INVITE_SHEET_RENDERED:168,DIRECT_INVITE_BULK_SENT_SUCCESS:169,DIRECT_INVITE_BULK_SENT_FAIL:170,CHAT_INVITE_SHEET_RENDERED:171,DIRECT_INVITE_SENT_SUCCESS:172,DIRECT_INVITE_SENT_FAIL:173,PAUSE_CHANNEL:174,RESUME_CHANNEL:175,FEATURED_UNIT_PROFILE_QP_RENDERED:176,PIN_CARD_TAPPED:177,PIN_FEATURED_CARD_SUCCESS:178,PIN_FEATURED_CARD_FAILURE:179,CHANNELS_FEATURED_UNIT_RENDERED:180,CHANNELS_FEATURED_UNIT_SEE_ALL_TAPPED:181,RENDER_CHAT_INVITE_SHEET:182,RENDER_INVITE_PRESET_LIST:183,INVITE_PRESET_LIST_RENDERED:184,CREATE_POST_BUTTON_TAPPED:185,PUBLIC_CHAT_BUTTON_IMPRESSION:186,RENDER_CHANNEL_PAUSE_CONFIRMATION_DIALOG:187,RENDER_CHANNEL_RESUME_CONFIRMATION_DIALOG:188,DISMISS_PAUSE_CHANNEL_DIALOG:189,DISMISS_RESUME_CHANNEL_DIALOG:190,CANCEL_RESUME_CHANNEL:191,CANCEL_PAUSE_CHANNEL:192,DEEPLINK_LANDING_PAGE_RENDERED:193,DIRECT_INVITE_SHEET_SKIPPED:194,CREATE_POST_BUTTON:195,CYSC_QP_CARD_IMPRESSION:196,CONVO_PROMPT_REMOVED:197,CONVO_PROMPT_RENDERED:198,CONVO_PROMPT_SCROLLED:199,CONVO_PROMPT_SENT:200,THREAD_PREVIEW_OPEN:201,NON_MEMBER_COMPOSER_SHOWN:202});c=a;f["default"]=c}),66);
__d("MDCParentSurface",["$InternalEnum"],(function(a,b,c,d,e,f){a=b("$InternalEnum")({MESSENGER:1,FACEBOOK:2,FACEBOOK_NEWSFEED:3,NOTIF_JEWEL:4,CHAT_SETUP:5,THREAD_VIEW:6,THREAD_DETAILS:7,CHAT_INVITE_SHEET:8,DM_CREATION_OMNIPICKER:9,CREATE_PUBLIC_CHAT_DIALOG:10,CHAT_SHARE_LINK:11,MESSENGER_INBOX:12,LONG_PRESS_MENU:13,SWIPE_LEFT_MENU:14,CHANNEL_DELETE_SHEET:15,EDIT_PUBLIC_CHAT_DIALOG:16});c=a;f["default"]=c}),66);
__d("MWLogSocialChannelFalcoEvent",["requireDeferred","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("MessengerDiscoverableChatClientEventsFalcoEvent").__setRef("MWLogSocialChannelFalcoEvent"),i=new Set([186,180]),j=5*60*1e3,k=null,l=null;function a(a){var b=a.action,d=b===void 0?2:b,e=a.clientExtras,f=a.event;b=a.parentSurface;var g=b===void 0?1:b,m=a.source,n=a.surface,o=a.targetFbids,p=a.threadFbid,q=a.userId;h.onReady(function(a){var b=Date.now();(k==null||l!=null&&b-l>j||i.has(f))&&(k=c("uuidv4")());l=b;a.log(function(){return{action:d,event:f,extra:e,parent_surface:g,session_id:k,source:m,surface:n,target_fbids:o,thread_fbid:p,user_id:q}})})}g.logSocialChannelFalcoEvent=a}),98);
__d("useSocialChannelImpressionLogger",["I64","MWLogSocialChannelFalcoEvent","MWPActor.react","react","useSinglePartialViewImpression"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useCallback;function a(a){var b=a.clientExtras,e=a.event,f=a.parentSurface,g=a.source,i=a.surface,j=a.threadFbid,k=a.userId,l=d("MWPActor.react").useActor();a=h(function(){var a;d("MWLogSocialChannelFalcoEvent").logSocialChannelFalcoEvent({action:1,clientExtras:b,event:e,parentSurface:f,source:g,surface:i,threadFbid:j,userId:(a=k)!=null?a:d("I64").to_string(l)})},[b,e,f,g,i,j,k,l]);return c("useSinglePartialViewImpression")({onImpressionStart:a})}g["default"]=a}),98);
__d("MWChatSearchTypeaheadCreateSocialChannelActionButtonViewItem.react",["fbt","MWChatSearchTypeheadActionButtonViewItem.react","MWCreateSocialChannelDialog.entrypoint","MessagesFilled12.svg.react","emptyFunction","react","useCometEntryPointDialog","useSocialChannelImpressionLogger"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(){var a=h._("__JHASH__XnciY14gxgS__JHASH__"),b=c("useCometEntryPointDialog")(c("MWCreateSocialChannelDialog.entrypoint"),{}),d=b[0];b=c("useSocialChannelImpressionLogger")({event:186,parentSurface:6,source:12,surface:4});return i.jsx("div",{ref:b,children:i.jsx(c("MWChatSearchTypeheadActionButtonViewItem.react"),{entry:{key:"newSocialChannel",label:"New Social Channel",type:"entry"},icon:c("MessagesFilled12.svg.react"),onHighlightEntry:c("emptyFunction"),onPressEntry:function(){d({},function(){})},title:a})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWCMLightSpeedChatTabActionViewItems.react",["CometDivider.react","CurrentEnvironment","MWChatSearchTypeaheadCreateCommunityChatActionButtonViewItem.react","MWChatSearchTypeaheadCreateSocialChannelActionButtonViewItem.react","qex","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={divider:{marginTop:"x1xmf6yo",marginEnd:"xktsk01",marginBottom:"x1e56ztr",marginStart:"x1d52u69",$$css:!0}};function a(){var a=c("qex")._("347")===!0&&!c("CurrentEnvironment").messengerdotcom,b=c("qex")._("378")===!0,d=a||b;return d?h.jsxs(h.Fragment,{children:[a&&h.jsx(c("MWChatSearchTypeaheadCreateCommunityChatActionButtonViewItem.react"),{}),b&&h.jsx(c("MWChatSearchTypeaheadCreateSocialChannelActionButtonViewItem.react"),{}),h.jsx(c("CometDivider.react"),{xstyle:i.divider})]}):null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWInboxContextSwitcherCond.react",["cr:4067","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){return b("cr:4067")?h.jsx(b("cr:4067"),babelHelpers["extends"]({},a)):null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("mwGroupEntriesForDisplay",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b=new Map();for(var a=a,c=Array.isArray(a),d=0,a=c?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e,f,g;if(c){if(d>=a.length)break;g=a[d++]}else{d=a.next();if(d.done)break;g=d.value}g=g;e=(e=g.rawData.section)!=null?e:"";f=(f=b.get(e))!=null?f:[];f.push(g);b.set(e,f)}return b}f.mwGroupEntriesForDisplay=a}),66);
__d("MWChatSearchLightspeedTypeaheadViewList.react",["MWCMLightSpeedChatTabActionViewItems.react","TetraText.react","getItemRoleFromCompositeRole","mwGroupEntriesForDisplay","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useMemo;function j(a){var b=a.activeEntryKey,d=a.children,e=a.entries,f=a.itemRole;a=a.title;return e!=null&&e.length>0?h.jsxs("li",{className:"xexx8yu xsyo7zv x18d9i69 x16hj40l",children:[a?h.jsx("div",{className:"x1y1aw1k x1sxyh0 xwib8y2 xurb0ha",children:h.jsx(c("TetraText.react"),{type:"entityHeaderMeta1",children:a})}):null,h.jsx("ul",{children:e.map(function(a,c){var e=b===a.key;return d({entry:a,index:c,isActive:e,itemRole:f})})})]}):null}function a(a){var b=a.ariaProps,e=a.children,f=a.entries,g=a.highlightedEntry,k=a.showActionItems;a=babelHelpers.objectWithoutPropertiesLoose(a,["ariaProps","children","entries","highlightedEntry","showActionItems"]);var l=g!=null?g.key:null;a=i(function(){return d("mwGroupEntriesForDisplay").mwGroupEntriesForDisplay(f)},[f]);var m=c("getItemRoleFromCompositeRole")(b.role);return h.jsxs("ul",{"data-testid":void 0,role:"listbox",children:[k&&h.jsx(c("MWCMLightSpeedChatTabActionViewItems.react"),{}),Array.from(a.entries()).map(function(a){var b=a[0];a=a[1];return h.jsx(j,{activeEntryKey:l,children:e,entries:a,itemRole:m,title:b},b)})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWJewelLightspeedSearchTypeaheadViewList.react",["CometScrollView.react","MWChatSearchLightspeedTypeaheadViewList.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={scroll:{maxHeight:"xo4cw3p",$$css:!0}};function a(a){var b=a.xstyle;a=babelHelpers.objectWithoutPropertiesLoose(a,["xstyle"]);return h.jsx(c("CometScrollView.react"),{showsHorizontalScrollIndicator:!1,xstyle:[i.scroll,b],children:h.jsx(c("MWChatSearchLightspeedTypeaheadViewList.react"),babelHelpers["extends"]({showActionItems:!1},a))})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWJewelSearchEmptyState.react",["fbt","TetraText.react","react","useCometTypeaheadEmptyState"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(a){var b=c("useCometTypeaheadEmptyState")();return b?i.jsxs("div",{className:"xz9dl7a xn6708d xsag5q8 x1ye3gou",children:[i.jsx(c("TetraText.react"),{align:"center",type:"body2",children:h._("__JHASH__kjfZwRT5xYf__JHASH__")}),i.jsx("br",{}),i.jsx(c("TetraText.react"),{align:"center",color:"tertiary",type:"body3",children:h._("__JHASH__vJvyHT-oIpm__JHASH__",[h._param("query",a.queryString)])})]}):null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useBaseTypeaheadSubscriptionDataSourceFetchResolverNetwork",["react"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useCallback,i=b.useEffect,j=b.useRef,k=b.useState;function a(a){var b=a.dataSource;a=k(!1);var c=a[0],d=a[1],e=j(null);a=h(function(a){var c,f=a.onResolvePayload;a=a.requestParams;(c=e.current)==null?void 0:c.unsubscribe();e.current=b.fetchNetwork(a).subscribe({complete:function(){d(!1)},error:function(a){d(!1)},next:function(a){return f(a)},start:function(a){d(!0)},unsubscribe:function(){d(!1)}})},[b]);i(function(){return function(){var a;(a=e.current)==null?void 0:a.unsubscribe()}},[]);return[{isLoading:c},a]}g["default"]=a}),98);
__d("useBaseTypeaheadSubscriptionDataSourceFetchResolver",["cometTypeaheadODSLogFetchNetworkEvent","cr:2557","react","recoverableViolation","useBaseTypeaheadSubscriptionDataSourceFetchResolverNetwork","useDebouncedComet"],(function(a,b,c,d,e,f,g){"use strict";e=d("react");var h=e.useCallback,i=e.useEffect,j=e.useRef;function a(a,d){var e=a.dataSource,f=a.dataSourceFetchConfigParams;f=f===void 0?{}:f;var g=f.requestFlow;f=f.shouldDebounceNetwork;var k=f===void 0?!0:f,l=a.onResolvePayload;f=c("useBaseTypeaheadSubscriptionDataSourceFetchResolverNetwork")({dataSource:e});a=f[0].isLoading;var m=f[1],n=c("useDebouncedComet")(m),o=h(function(a,b){var d=b.isTraceComplete;b=b.source;try{l(a,{isTraceComplete:d,source:b})}catch(a){c("recoverableViolation")("Failed to resolve fetched payload","search")}return b},[l]),p=j(g),q=h(function(a){o(a,{isTraceComplete:!0,source:a.entries.length>0?"network":"network-no-results"}),c("cometTypeaheadODSLogFetchNetworkEvent")&&c("cometTypeaheadODSLogFetchNetworkEvent")("comet.ta.fetch",!0,1),b("cr:2557")&&b("cr:2557")(["all"],a)},[o]);i(function(){function a(a){a=a.requestParams;var b=a.requestFlow;b!=null&&(p.current=b);b={onResolvePayload:q,requestParams:babelHelpers["extends"]({},a,{requestFlow:p.current})};Boolean(k)?n(b):m(b)}d!=null&&a(d)},[m,n,d,q,k]);return[{isLoading:a}]}g["default"]=a}),98);
__d("useBaseTypeaheadSubscriptionDataSourceFetch",["react","recoverableViolation","useBaseTypeaheadSubscriptionDataSourceFetchResolver"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useCallback,i=b.useState;function a(a){var b=i(null),d=b[0],e=b[1];b=c("useBaseTypeaheadSubscriptionDataSourceFetchResolver")(a,d);a=b[0].isLoading;var f=h(function(a,b){b===void 0&&(b="all"),e({requestParams:a,source:b})},[]);b=h(function(a){a=a||{};var b=a.requestFlow;a=a.source;if(d==null){c("recoverableViolation")("Refetch cannot be called with undefined `fetchParams`","search");return}var e=d.requestParams,g=e.loggingEventTrace;e=babelHelpers.objectWithoutPropertiesLoose(e,["loggingEventTrace"]);g=babelHelpers["extends"]({loggingEventTrace:babelHelpers["extends"]({},g,{sequenceID:String(Date.now())}),requestFlow:b},e);f(g,a)},[f,d]);return[{isLoading:a,source:(a=d==null?void 0:d.source)!=null?a:"all"},f,b]}g["default"]=a}),98);
__d("TypeaheadLoggingFetchRequestFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1880031");b=d("FalcoLoggerInternal").create("typeahead_logging_fetch_request",a);e=b;g["default"]=e}),98);
__d("CometTypeaheadVolumeLoggingProvider",["TypeaheadLoggingFetchRequestFalcoEvent","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h=function(){return Math.random().toString()};a=function(){function a(a){this.$2=null,this.$1=a,this.$2=h()}var b=a.prototype;b.getContext=function(){return this.$1};b.getSessionID=function(){this.$2==null&&c("recoverableViolation")("Logging sessionID requested from "+this.getContext()+" surface does not exist.","search");return this.$2};b.logRequest=function(a){var b={context:this.getContext(),requestType:a,sessionID:this.getSessionID()};c("TypeaheadLoggingFetchRequestFalcoEvent").log(function(){return{fetchRequest:b}})};return a}();g["default"]=a}),98);
__d("useCometTypeaheadVolumeLoggingProvider",["CometTypeaheadVolumeLoggingProvider","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useMemo;function a(a){a===void 0&&(a="UNKNOWN");return h(function(){return new(c("CometTypeaheadVolumeLoggingProvider"))(a)},[a])}g["default"]=a}),98);
__d("CometInternalTypeaheadSubscriptionProvider",["CometInternalTypeaheadEmptyFetchProvider","CometInternalTypeaheadFetchContext","react","useBaseTypeaheadSubscriptionDataSourceFetch","useCometInternalTypeaheadStateDispatcher","useCometTypeaheadVolumeLoggingProvider"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useCallback,j=b.useMemo;function a(a){var b=a.children,d=a.dataSource,e=a.dataSourceFetchConfigParams,f=a.loggingContext,g=a.onFetchEntries_DO_NOT_USE,k=a.traceProvider;a=c("useCometInternalTypeaheadStateDispatcher")();var l=a.dispatchActiveEntries,m=c("useCometTypeaheadVolumeLoggingProvider")(f);a=c("useBaseTypeaheadSubscriptionDataSourceFetch")({dataSource:d,dataSourceFetchConfigParams:e,onResolvePayload:i(function(a,b){var c;a=a.entries;var d=b.isTraceComplete;b=b.source;l((c=a)!=null?c:[]);m.logRequest(o);g&&g(a);k&&!k.isResolved()&&(d&&(b==="cache"&&a.length>=k.getEntriesCountForVisualComplete()?k.setEndReason("max_suggestions_reached"):b==="network"?k.setEndReason("all_queries_completed"):b==="network-no-results"&&k.setEndReason("all_queries_completed_no_network_results"),k.resolve()))},[l,g,k])});f=a[0];var n=f.isLoading,o=f.source,p=a[1],q=a[2];d=j(function(){return{fetch:p,isLoading:n,refetch:q,source:o}},[p,n,q,o]);return h.jsx(c("CometInternalTypeaheadFetchContext").Provider,{value:d,children:h.jsx(c("CometInternalTypeaheadEmptyFetchProvider"),{isLoading:n,source:o,children:b})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("BaseSubscriptionTypeahead.react",["CometHeroInteractionContextPassthrough.react","CometInternalTypeahead.react","CometInternalTypeaheadStateProvider","CometInternalTypeaheadSubscriptionProvider","emptyFunction","react","useCometUniqueID","withCometTypeaheadInputStrategyShouldQueryStringFollowHighlightedEntry"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useCallback,j=b.useMemo;function a(a){var b=a.autoOpen;b=b===void 0?!1:b;var d=a.autoFocus;d=d===void 0?!1:d;var e=a.isDisabled;e=e===void 0?!1:e;var f=a.errorMessage;f=f===void 0?null:f;var g=a.inputStrategyRenderer,k=a.dataSource,l=a.dataSourceFetchConfigParams,m=a.decorators,n=m===void 0?[]:m;m=a.emptyEntries_DO_NOT_USE;var o=a.id,p=a.label;p=p===void 0?"":p;var q=a.loggingContext,r=a.onBackspace;r=r===void 0?c("emptyFunction"):r;var s=a.onBlur;s=s===void 0?c("emptyFunction"):s;var t=a.onChange,u=a.onClose;u=u===void 0?c("emptyFunction"):u;var v=a.onEnter;v=v===void 0?c("emptyFunction"):v;var w=a.onEscape;w=w===void 0?c("emptyFunction"):w;var x=a.onFetchEntries_DO_NOT_USE,y=a.onFocus;y=y===void 0?c("emptyFunction"):y;var z=a.onOpen;z=z===void 0?c("emptyFunction"):z;var A=a.onPressEntry,B=a.placeholder;B=B===void 0?"":B;var C=a.shouldQueryStringFollowHighlightedEntry,D=C===void 0?!0:C;C=a.shouldQueryStringUpdateFromSelectedEntryOnClick;var E=C===void 0?!0:C;C=a.testid;C=C===void 0?"":C;C=a.traceProvider;var F=a.inputRef,G=a.viewRole;G=G===void 0?"listbox":G;var H=a.viewStrategyRenderer;a=babelHelpers.objectWithoutPropertiesLoose(a,["autoOpen","autoFocus","isDisabled","errorMessage","inputStrategyRenderer","dataSource","dataSourceFetchConfigParams","decorators","emptyEntries_DO_NOT_USE","id","label","loggingContext","onBackspace","onBlur","onChange","onClose","onEnter","onEscape","onFetchEntries_DO_NOT_USE","onFocus","onOpen","onPressEntry","placeholder","shouldQueryStringFollowHighlightedEntry","shouldQueryStringUpdateFromSelectedEntryOnClick","testid","traceProvider","inputRef","viewRole","viewStrategyRenderer"]);var I=c("useCometUniqueID")(),J=j(function(){var a=c("CometInternalTypeahead.react");n.forEach(function(b){var c=b.decorate;b=b.params;a=c(a,b)});return a},[n]),K=i(function(a){E&&t(a.label),A&&A(a)},[t,A,E]),L=j(function(){return c("withCometTypeaheadInputStrategyShouldQueryStringFollowHighlightedEntry")(g,{shouldQueryStringFollowHighlightedEntry:D})},[g,D]);p=p||B;return h.jsx(c("CometHeroInteractionContextPassthrough.react"),{clear:!0,children:h.jsx(c("CometInternalTypeaheadStateProvider"),{autoOpen:b,emptyEntries_DO_NOT_USE:m,onClose:u,onOpen:z,children:h.jsx(c("CometInternalTypeaheadSubscriptionProvider"),{dataSource:k,dataSourceFetchConfigParams:l,loggingContext:q,onFetchEntries_DO_NOT_USE:x,traceProvider:C,children:h.jsx(J,babelHelpers["extends"]({},a,{autoFocus:d,errorMessage:f,id:(b=o)!=null?b:I,inputRef:F,inputStrategyRenderer:L,isDisabled:e,label:p,onBackspace:r,onBlur:s,onChange:t,onDownArrow:c("emptyFunction"),onEnter:v,onEscape:w,onFocus:y,onHighlightEntry:c("emptyFunction"),onPressEntry:K,onShiftTab:c("emptyFunction"),onTab:c("emptyFunction"),onUpArrow:c("emptyFunction"),placeholder:B,testid:void 0,viewRole:G,viewStrategyRenderer:H}))})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("LsUniversalSearchEndFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("92");b=d("FalcoLoggerInternal").create("ls_universal_search_end",a);e=b;g["default"]=e}),98);
__d("LsUniversalSearchQueryChangedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("94");b=d("FalcoLoggerInternal").create("ls_universal_search_query_changed",a);e=b;g["default"]=e}),98);
__d("LsUniversalSearchStartFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("96");b=d("FalcoLoggerInternal").create("ls_universal_search_start",a);e=b;g["default"]=e}),98);
__d("LSSearchGranularSurfaceType",[],(function(a,b,c,d,e,f){a=Object.freeze({UNIVERSAL_ALL:1,UNIVERSAL_MORE_PEOPLE:2,UNIVERSAL_IG_FOLLOWING:3,UNIVERSAL_BUSINESS:4,UNIVERSAL_CM_THREADS:18,UNIVERSAL_NULLSTATE_ALL:25,UNIVERSAL_NULLSTATE_CHANNELS:26,UNIVERSAL_NULLSTATE_PEOPLE:27,OMNIPICKER:5,BROADCAST:6,BLOCK_LIST:7,IMPERSONATION_EVIDENCE:8,UNIVERSAL_IG_NONFOLLOWING:9,GROUPS:10,OMNIPICKER_ARMADILLO:11,RESTRICTED_LIST:12,CALLS_TAB:13,CM_INVITE_ALL_MEMBERS:14,INSTAGRAM_ALL:15,CM_MEMBER_LIST:16,CM_THREAD_PARTICIPANT_SEARCH:17,CM_COMMUNITY_CREATION_INVITE:19,CM_INVITE_FB_FRIENDS:20,CM_COMMUNITY_INVITE_ALL_MEMBERS:21,CM_COMMUNITY_INVITE_FB_FRIENDS:22,CM_PRIVATE_COMMUNITY_BROADCAST:23,DISCOVERABLE_CHAT_MAIN_INVITE:24});f["default"]=a}),66);
__d("MNetContactItemType",[],(function(a,b,c,d,e,f){a=Object.freeze({CONTACT:0,NON_CONTACT:1,GROUP:2,PAGE:3,BOT:4,GAME:5,IG_USER:6,IG_THREAD:7,STICKER:8,INTEROP_THREAD:9,MSGR_THREAD:10,TEXT_SUGGESTION:11,COMMUNITY_MESSAGING_THREAD:12,IG_PUBLIC_CHANNELS:13,SIDE_CONVERSATIONS_COMMUNITY_MESSAGING_THREAD:14,COMMUNITY_MESSAGING_THREAD_FOR_CC_SECTION:15});f["default"]=a}),66);
__d("MWChatSearchFetchContactRecommendations",["I64","LSContactBitOffset","LSContactViewerRelationship","LSIntEnum","LSMediaUrl.bs","LSPlatformClientSingleton.bs","LSSearchType","LSWhatsAppConnectStatus","MNetContactItemType","MNetRankType","MWChatTemporarySearchResult.bs","MWLSContactTypeExactUtils","MWLSDatabaseLazySync.bs","ReQL","ReQLSuspense","gkx","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";e=d("react");var h=e.useEffect,i=e.useMemo;function j(a){if(a<0)return-1;return a>0?1:0}function k(a){return a.sort(function(a,b){a=a[0];var c=a[0];a=a[1];b=b[0];var d=b[0];b=b[1];if(d.score!==c.score)return j(d.score-c.score);if(a!=null&&b!=null)return j(b.rank-a.rank);return b==null&&a==null?0:b!=null?1:-1})}function l(a){var b=a.contactViewerRelationship;if(d("MWLSContactTypeExactUtils").isIgContact(a)){if(d("I64").equal(b,d("LSIntEnum").ofNumber(c("LSContactViewerRelationship").NOT_CONTACT)))return d("LSIntEnum").ofNumber(c("LSSearchType").IG_NONCONTACT_FOLLOWING);return d("I64").equal(b,d("LSIntEnum").ofNumber(c("LSContactViewerRelationship").CONTACT_OF_VIEWER))?d("LSIntEnum").ofNumber(c("LSSearchType").IG_CONTACT_FOLLOWING):d("LSIntEnum").ofNumber(c("LSSearchType").IG_NONCONTACT_NONFOLLOWING)}return d("LSIntEnum").ofNumber(c("LSSearchType").CONTACT)}function m(a){return a.map(function(a,b){var e=a[0],f=e[0];e=e[1];a=a[1];if(e==null)return;f=d("LSIntEnum").toNumber(f.contactType);var g;!c("gkx")("3711")&&d("LSContactBitOffset").has(d("LSIntEnum").ofNumber(76),e)?g=15:g=f===c("MNetContactItemType").GROUP?2:1;var h;switch(f){case c("MNetContactItemType").CONTACT:h=l(e);break;case c("MNetContactItemType").GROUP:h=d("LSIntEnum").ofNumber(c("LSSearchType").GROUP);break;case c("MNetContactItemType").PAGE:case c("MNetContactItemType").BOT:case c("MNetContactItemType").GAME:case c("MNetContactItemType").STICKER:h=d("LSIntEnum").ofNumber(c("LSSearchType").PAGE);break;case c("MNetContactItemType").IG_THREAD:case c("MNetContactItemType").INTEROP_THREAD:case c("MNetContactItemType").MSGR_THREAD:h=d("LSIntEnum").ofNumber(c("LSSearchType").INTEGRATED_MESSAGE_SEARCH_THREAD);break;case c("MNetContactItemType").IG_USER:h=d("LSIntEnum").ofNumber(c("LSSearchType").IG_CONTACT_FOLLOWING);break;default:h=d("LSIntEnum").ofNumber(c("LSSearchType").NONCONTACT)}f={blockedByViewerStatus:e.blockedByViewerStatus,contextLine:(f=e.secondaryName)!=null?f:"",defaultE2eeThreadOneToOne:d("LSContactBitOffset").has(d("LSIntEnum").ofNumber(83),e),defaultE2eeThreads:d("LSContactBitOffset").has(d("LSIntEnum").ofNumber(80),e),displayName:e.name,globalIndex:d("I64").of_int32(b),hasCutoverThread:d("LSContactBitOffset").has(d("LSIntEnum").ofNumber(76),e),isGroupsXacEligible:d("LSContactBitOffset").has(d("LSIntEnum").ofNumber(68),e),isInteropEligible:d("MWLSContactTypeExactUtils").isIgContact(e)?d("LSContactBitOffset").has(d("LSIntEnum").ofNumber(67),e):void 0,isVerified:d("LSContactBitOffset").has(d("LSIntEnum").ofNumber(23),e),isViewerUnconnected:d("LSContactBitOffset").hasWithDefault(d("LSIntEnum").ofNumber(64),e,!0),isWaAddressable:d("I64").equal(e.waConnectStatus,d("LSIntEnum").ofNumber(c("LSWhatsAppConnectStatus").WHATSAPP_ADDRESSABLE)),profilePicUrl:d("LSMediaUrl.bs").Contact.profilePictureUrl(e),query:"",resultId:d("I64").to_string(e.id),resultIgid:void 0,threadType:d("LSIntEnum").ofNumber(g),type_:h,waEligibility:a==null?void 0:a.e2eeEligibility};b=d("MWChatTemporarySearchResult.bs").fromServerSearchResult(f,void 0,"offline_nullstate");return[b,e]}).filter(Boolean)}function n(a,b){return d("ReQL").leftJoin(d("ReQL").leftJoin(d("ReQL").fromTableAscending(a.table("ranking_scores").index("scoreTypeContactId")).getKeyRange(b),d("ReQL").fromTableAscending(a.table("contacts"))),d("ReQL").fromTableAscending(a.table("ig_contact_info")))}function o(a){a===void 0&&(a=d("LSIntEnum").ofNumber(c("MNetRankType").MESSENGER_USER_SEARCH_NULLSTATE));var b=c("useReStore")(),e=d("ReQLSuspense").useArray(function(){return n(b,a)},[a,b],f.id+":241");return i(function(){return m(k(e))},[e])}function a(){var a=d("MWLSDatabaseLazySync.bs").useSync(d("LSIntEnum").ofNumber(7)),b=o(d("LSIntEnum").ofNumber(c("MNetRankType").INBOX_ACTIVE_NOW));h(function(){a()},[a]);return b.length}function b(a){a===void 0&&(a=d("LSIntEnum").ofNumber(c("MNetRankType").MESSENGER_USER_SEARCH_NULLSTATE));return d("LSPlatformClientSingleton.bs").getDB().then(function(b){return d("ReQL").toArrayAsync(n(b,a))}).then(function(a){return m(k(a))})}g.sortInPlaceQueryResults=k;g.matchContactType=l;g.mapToServerSearchResults=m;g.makeQuery=n;g.useChatSearchContactRecommendations=o;g.useActiveContactCount=a;g.fetchRecommendations=b}),98);
__d("MWChatSearchFetchThreadRecommendations.bs",["I64","LSMessagingThreadTypeUtil","LSPlatformClientSingleton.bs","MWInboxSecureContentSearch.bs","MWLSThreadTitle","Promise","ReQL.bs"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b,c,e,f,g,h,i){return{canViewerMessage:void 0,communityId:void 0,defaultE2eeThreadOneToOne:void 0,defaultE2eeThreads:void 0,displayName:d("MWLSThreadTitle").getDefaultThreadTitle(a.threadName,c,g,a.threadType).toString(),hasCutoverThread:void 0,id:d("I64").to_string(a.threadKey),imageUrl:e,isContact:!1,isE2EE:d("LSMessagingThreadTypeUtil").isSecure(a.threadType),isEligibleForCmInvite:void 0,isEPD:!1,isGroupsXacEligible:void 0,isInstagramAccount:!1,isInteropEligible:void 0,isInvitedToCmChannel:void 0,isVerified:!1,isWAEligible:void 0,otherUserId:void 0,rankingScore:h,restrictionType:void 0,resultType:i?"group":"user",searchSource:b,secondaryImageUrl:f,section:"",serverSearchResult:void 0,subtext:(c=a.threadDescription)!=null?c:"",threadJoinLinkHash:void 0,threadKey:a.threadKey,threadType:void 0,waAddressable:void 0,waEligibility:void 0,isViewerUnconnected:void 0,resultIgid:void 0}}function i(a,c,e){return b("Promise").all([d("MWInboxSecureContentSearch.bs").getThreadPics(e,c,a),d("MWInboxSecureContentSearch.bs").getThreadParticipants(e,a)]).then(function(a){var b=a[0],f=d("I64").to_float(e.lastActivityTimestampMs);f={contactId:d("I64").zero,contactType:d("I64").zero,score:f,scoreIndex:d("I64").zero,scoreType:d("I64").zero};var g=d("LSMessagingThreadTypeUtil").isGroup(e.threadType);return h(e,"offline_nullstate",c,b[0],b[1],a[1],f,g)})}function j(a,c,d){var e=[];c.forEach(function(b,c){c=i(a,d,b);e.push(c)});return b("Promise").all(e).then(function(a){return a})}function k(a){return d("ReQL.bs").toArray(d("ReQL.bs").take(d("ReQL.bs").filter(d("ReQL.bs").fromIndexDescending(a.table("threads").index("parentThreadKeyLastActivityTimestampMs")),function(a){if(d("LSMessagingThreadTypeUtil").isRecentsSectionAllowedTypes(a.threadType))return d("LSMessagingThreadTypeUtil").isMessengerOrE2EEInbox(a.folderName);else return!1}),5))}function l(a){return d("ReQL.bs").firstExn(d("ReQL.bs").map(d("ReQL.bs").fromTableAscending(a.table("_user_info")),function(a){return a.facebookUserId}))}function m(a){return b("Promise").all([k(a),l(a)]).then(function(b){return j(a,b[0],b[1])}).then(function(a){return b("Promise").resolve(a)})}function a(a,c){return d("LSPlatformClientSingleton.bs").getDB().then(m).then(function(a){return b("Promise").resolve(a)})}c=h;e=i;f=j;var n=k,o=l,p=m;a=a;g.toSearchresult=c;g.mapThreadHelper=e;g.mapToServerSearchResults=f;g.makeThreadQuery=n;g.getActor=o;g.fetchThreadsAsSearchResults=p;g.fetchRecommendations=a}),98);
__d("MWChatSearchThreadCutover",["FBLogger","I64","MWChatSearchResultType","ReQL","ReQLSuspense"],(function(a,b,c,d,e,f,g){"use strict";var h=function(a,b){b=d("I64").of_string_opt(b);if(!b)return!1;a=d("ReQLSuspense").first(d("ReQL").fromTableAscending(a.table("cutover_threads")).getKeyRange(b));return Boolean(a)},i=function(a,b){b=d("I64").of_string_opt(b);if(!b)return;var e=Boolean(d("ReQLSuspense").first(d("ReQL").fromTableAscending(a.table("cutover_threads")).getKeyRange(b)));if(e){e=d("ReQLSuspense").first(d("ReQL").fromTableAscending(a.table("mi_act_mapping_table").index("jid")).getKeyRange(b));if(e!=null)return d("I64").to_string(e==null?void 0:e.serverThreadKey);else{c("FBLogger")("Messenger Search").mustfix("Mapping of open thread not found in mi_act_mapping_table but found in cutover_threads table.");return}}return};b=function(a,b,c){var d=[],e=new Set();for(var f=0;f<b.length;f++){var g=b[f];e.has(g.id)||(!c.has(g.resultType)||!h(a,g.id))&&(d.push(g),e.add(g.id))}return d};function a(a,b,d){return a?b.filter(function(a){var b;a=a.rawData;if(a.resultType!==c("MWChatSearchResultType").USER&&a.resultType!==c("MWChatSearchResultType").GROUP)return!0;var e=a.otherUserId!=null;b=(b=a.otherUserId)!=null?b:a.id.toString();if(d==null)return!0;else b=i(d,b);var f=b!=null;if(e){if(!f)return!0;return f&&a.id.toString()===b?!0:!1}else return!f}):b}g.isCutoverOpenThread=h;g.getCutoverThreadKey=i;g.filterOutCutoverOpenThreadBasedOnSearchResultTypes=b;g.dedupeCutoverOpenThreads=a}),98);
__d("MWChatSearchIssueLightspeedQuery.bs",["I64","LSContactBlockedByViewerStatus","LSFactory","LSIntEnum","LSIssueSearchQuery","LSPlatformClientSingleton.bs","LSPlatformWaitForTaskCompletion","LSSearchGranularSurfaceType","LSSearchRequestStatusType","LSSearchType","LSVec","MNetRankType","MWChatSearchFetchContactRecommendations","MWChatSearchFetchThreadRecommendations.bs","MWChatSearchResultType","MWChatSearchThreadCutover","MWChatTemporarySearchResult.bs","Promise","ReQL","ReQLSubscription.bs","asyncToGeneratorRuntime","emptyFunction","gkx","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h=c("gkx")("4164");function a(a){return d("I64").equal(a,d("LSIntEnum").ofNumber(c("LSSearchType").CONTACT))}function i(a,b){var c=a[1];a=a[0];var e=[],f=0;a.sort(function(a,b){return d("I64").compare(a.globalIndex,b.globalIndex)});c.sort(function(a,b){return d("I64").compare(a.globalIndex,b.globalIndex)});for(var g=0,h=a.length;g<h;++g){var i=a[g];while(f<c.length&&d("I64").ge(c[f].globalIndex,i.startIndex)&&d("I64").le(c[f].globalIndex,i.endIndex)){var j=c[f];e.push(d("MWChatTemporarySearchResult.bs").fromServerSearchResult(j,i,"server"));f=f+1|0}}return e.filter(function(a){if(b)return!0;else return a.resultType!=="group"})}var j=[d("LSIntEnum").ofNumber(c("LSSearchType").INTEGRATED_MESSAGE_SEARCH_THREAD)],k={broadcast:d("LSIntEnum").ofNumber(c("LSSearchGranularSurfaceType").BROADCAST),cmInviteAllMembers:d("LSIntEnum").ofNumber(c("LSSearchGranularSurfaceType").CM_INVITE_ALL_MEMBERS),instagramAll:d("LSIntEnum").ofNumber(c("LSSearchGranularSurfaceType").INSTAGRAM_ALL),omnipickerArmadillo:d("LSIntEnum").ofNumber(c("LSSearchGranularSurfaceType").OMNIPICKER_ARMADILLO),universal:d("LSIntEnum").ofNumber(c("LSSearchGranularSurfaceType").UNIVERSAL_ALL),cmCommunityInviteFbFriends:d("LSIntEnum").ofNumber(c("LSSearchGranularSurfaceType").CM_COMMUNITY_INVITE_FB_FRIENDS),cmCommunityInviteAllMembers:d("LSIntEnum").ofNumber(c("LSSearchGranularSurfaceType").CM_COMMUNITY_INVITE_ALL_MEMBERS),cmMemberList:d("LSIntEnum").ofNumber(c("LSSearchGranularSurfaceType").CM_MEMBER_LIST),cmThreadParticipantSearch:d("LSIntEnum").ofNumber(c("LSSearchGranularSurfaceType").CM_THREAD_PARTICIPANT_SEARCH),cmInviteFbFriends:d("LSIntEnum").ofNumber(c("LSSearchGranularSurfaceType").CM_INVITE_FB_FRIENDS)};function l(a,b,e){var f=e.query;return d("LSPlatformClientSingleton.bs").getDB().then(function(d){return d.runInTransaction(function(d){return c("LSIssueSearchQuery")(f,c("LSVec").make(a),void 0,b,void 0,void 0,c("LSFactory")(d))},"readwrite").then(function(){return d})})}function e(a,e,f,g,h){if(e.length>0&&!e.includes("server"))return b("Promise").resolve([]);else return d("LSPlatformClientSingleton.bs").getDB().then(function(b){return c("LSPlatformWaitForTaskCompletion")(b,function(b){return c("LSIssueSearchQuery")(h.query,c("LSVec").make(a),void 0,f,void 0,void 0,c("LSFactory")(b))},"issueSearchQuery").then(function(){return b})}).then(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var e=d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.table("server_search_results")).getKeyRange(h.query).filter(function(a){return d("I64").equal(a.blockedByViewerStatus,d("LSIntEnum").ofNumber(c("LSContactBlockedByViewerStatus").UNBLOCKED))}));a=d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.table("server_search_sections")).getKeyRange(h.query));a=(yield b("Promise").all([a,e]));return i(a,g)});return function(b){return a.apply(this,arguments)}}())}function f(a,c,e,f){return d("MWChatSearchFetchContactRecommendations").fetchRecommendations(f).then(function(a){return b("Promise").resolve(a.map(function(a){return a[0]}))})}function m(a,e,f,g){return d("MWChatSearchFetchThreadRecommendations.bs").fetchRecommendations(g).then(function(a){return d("LSPlatformClientSingleton.bs").getDB().then(function(e){var f=new Set([c("MWChatSearchResultType").USER,c("MWChatSearchResultType").GROUP]);e=d("MWChatSearchThreadCutover").filterOutCutoverOpenThreadBasedOnSearchResultTypes(e,a,f);return b("Promise").resolve(e)})})}function n(a,b,e,f){var g=d("ReQL").fromTableAscending(a.table("server_search_results")).getKeyRange(b).filter(function(a){return d("I64").equal(a.blockedByViewerStatus,d("LSIntEnum").ofNumber(c("LSContactBlockedByViewerStatus").UNBLOCKED))}),j=d("ReQL").fromTableAscending(a.table("server_search_sections")).getKeyRange(b);b=d("ReQL").fromTableAscending(a.table("search_queries")).getKeyRange(b);return d("ReQLSubscription.bs").combineLatest3(a,g,j,b,function(a){var b=a[0],g=a[1];a=a[2];if(b==null||g==null||a==null)return;if(a.length!==1)return;(!h||!d("I64").equal(a[0].statusPrimary,d("LSIntEnum").ofNumber(c("LSSearchRequestStatusType").PENDING)))&&f(i([g,b],e))})}function o(a,b,c,d,e,f){l(b,c,e);return n(a,e.query,d,f)}function p(a,b,e,f,g,h){l(b,f,g);e=d("MWChatSearchFetchContactRecommendations").makeQuery(a,d("LSIntEnum").ofNumber(c("MNetRankType").MESSENGER_USER_SEARCH_NULLSTATE));c("promiseDone")(d("ReQL").toArrayAsync(e).then(function(a){return h(d("MWChatSearchFetchContactRecommendations").mapToServerSearchResults(d("MWChatSearchFetchContactRecommendations").sortInPlaceQueryResults(a)).map(function(a){return a[0]}))}));return c("emptyFunction")}var q=h;a=a;var r=i;j=j;k=k;e=e;f=f;m=m;g.subscribe=n;g.requestResults=o;g.requestRecommendations=p;g.loaderIndicatorFix=q;g.checkIsContact=a;g.toSearchResults=r;g.contentSearchTypes=j;g.Surfaces=k;g.fetchResults=e;g.fetchRecommendations=f;g.fetchThreadRecommendations=m}),98);
__d("MWLSSearchIssueSearchQuerySupportedTypes.bs",["LSIntEnum","LSSearchType","gkx","qex"],(function(a,b,c,d,e,f,g){"use strict";a=[d("LSIntEnum").ofNumber(c("LSSearchType").CONTACT),d("LSIntEnum").ofNumber(c("LSSearchType").GROUP),d("LSIntEnum").ofNumber(c("LSSearchType").PAGE),d("LSIntEnum").ofNumber(c("LSSearchType").NONCONTACT),d("LSIntEnum").ofNumber(c("LSSearchType").IG_CONTACT_FOLLOWING),d("LSIntEnum").ofNumber(c("LSSearchType").IG_CONTACT_NONFOLLOWING),d("LSIntEnum").ofNumber(c("LSSearchType").IG_NONCONTACT_FOLLOWING),d("LSIntEnum").ofNumber(c("LSSearchType").IG_NONCONTACT_NONFOLLOWING)].concat(c("gkx")("6970")?[d("LSIntEnum").ofNumber(c("LSSearchType").RECOMMENDED_COMMUNITIES)]:[],c("qex")._("224")?[d("LSIntEnum").ofNumber(c("LSSearchType").COMMUNITY_MESSAGING_THREAD)]:[]);b=[d("LSIntEnum").ofNumber(c("LSSearchType").CONTACT),d("LSIntEnum").ofNumber(c("LSSearchType").GROUP),d("LSIntEnum").ofNumber(c("LSSearchType").PAGE),d("LSIntEnum").ofNumber(c("LSSearchType").NONCONTACT),d("LSIntEnum").ofNumber(c("LSSearchType").IG_CONTACT_FOLLOWING),d("LSIntEnum").ofNumber(c("LSSearchType").IG_CONTACT_NONFOLLOWING),d("LSIntEnum").ofNumber(c("LSSearchType").IG_NONCONTACT_FOLLOWING),d("LSIntEnum").ofNumber(c("LSSearchType").IG_NONCONTACT_NONFOLLOWING),d("LSIntEnum").ofNumber(c("LSSearchType").INTEGRATED_MESSAGE_SEARCH_THREAD)];e=[d("LSIntEnum").ofNumber(c("LSSearchType").CONTACT),d("LSIntEnum").ofNumber(c("LSSearchType").GROUP),d("LSIntEnum").ofNumber(c("LSSearchType").PAGE),d("LSIntEnum").ofNumber(c("LSSearchType").NONCONTACT),d("LSIntEnum").ofNumber(c("LSSearchType").IG_CONTACT_FOLLOWING),d("LSIntEnum").ofNumber(c("LSSearchType").IG_CONTACT_NONFOLLOWING),d("LSIntEnum").ofNumber(c("LSSearchType").IG_NONCONTACT_FOLLOWING),d("LSIntEnum").ofNumber(c("LSSearchType").IG_NONCONTACT_NONFOLLOWING)];f=[d("LSIntEnum").ofNumber(c("LSSearchType").CONTACT)];var h=[d("LSIntEnum").ofNumber(c("LSSearchType").CONTACT),d("LSIntEnum").ofNumber(c("LSSearchType").GROUP),d("LSIntEnum").ofNumber(c("LSSearchType").PAGE),d("LSIntEnum").ofNumber(c("LSSearchType").IG_CONTACT_FOLLOWING),d("LSIntEnum").ofNumber(c("LSSearchType").IG_CONTACT_NONFOLLOWING),d("LSIntEnum").ofNumber(c("LSSearchType").IG_NONCONTACT_FOLLOWING),d("LSIntEnum").ofNumber(c("LSSearchType").IG_NONCONTACT_NONFOLLOWING)].concat(c("qex")._("1326")===!0?[d("LSIntEnum").ofNumber(c("LSSearchType").COMMUNITY_MESSAGING_THREAD)]:[]),i=[d("LSIntEnum").ofNumber(c("LSSearchType").CONTACT),d("LSIntEnum").ofNumber(c("LSSearchType").NONCONTACT)],j=[d("LSIntEnum").ofNumber(c("LSSearchType").CONTACT),d("LSIntEnum").ofNumber(c("LSSearchType").NONCONTACT),d("LSIntEnum").ofNumber(c("LSSearchType").IG_CONTACT_FOLLOWING),d("LSIntEnum").ofNumber(c("LSSearchType").IG_CONTACT_NONFOLLOWING),d("LSIntEnum").ofNumber(c("LSSearchType").IG_NONCONTACT_FOLLOWING),d("LSIntEnum").ofNumber(c("LSSearchType").IG_NONCONTACT_NONFOLLOWING)];d=[d("LSIntEnum").ofNumber(c("LSSearchType").CONTACT),d("LSIntEnum").ofNumber(c("LSSearchType").GROUP),d("LSIntEnum").ofNumber(c("LSSearchType").NONCONTACT)];g.allSupportedTypes=a;g.allSupportedTypesWithMessageSearch=b;g.armadilloSupportedTypes=e;g.onlyContacts=f;g.broadcastFlowSupportedTypes=h;g.addParticipantBase=i;g.addParticipantXac=j;g.socialChannelsSupportedTypes=d}),98);
__d("filterXacContactsMWChatSearchLocalEntries",[],(function(a,b,c,d,e,f){"use strict";function a(a){return a.filter(function(a){return!a.isInstagramAccount})}f["default"]=a}),66);
__d("mwStaticSearchEntries",["fbt"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a){var b=h._("__JHASH__--dZZ_HGKAA__JHASH__",[h._param("query_value",a)]);return{key:a,label:b,rawData:{displayName:b,id:a,imageUrl:"",isContact:!1,isE2EE:!1,isEPD:!1,resultType:"messages",secondaryImageUrl:"",subtext:""},type:"entry"}}g.createMessageSearchEntry=a}),98);
__d("sortMWChatSearchLocalEntries",[],(function(a,b,c,d,e,f){"use strict";var g={group:1,message:2,messages:3,page:4,user:0};function a(a){var b={};for(var c=0;c<a.length;c++){var d=a[c];b[d.id]=(d=d.rankingScore)==null?void 0:d.score}return a.sort(function(a,c){var d=g[a.resultType],e=g[c.resultType];if(d!==e)return d-e;e=(d=b[a.id])!=null?d:0;d=(a=b[c.id])!=null?a:0;return d-e})}f["default"]=a}),66);
__d("MWChatSearchTypeaheadLightspeedSubscriptionDataSource",["FBLogger","MAWGating","MWChatSearchIssueLightspeedQuery.bs","MWChatSearchThreadCutover","MWLSSearchIssueSearchQuerySupportedTypes.bs","MWPSearchSystem.bs","Promise","cr:1489","cr:643","createMWChatSearchTypeaheadDataEntry","filterXacContactsMWChatSearchLocalEntries","gkx","mwChatSearchPayloadDecoratorRemoveExcluded","mwChatSearchPayloadEnumerate","mwStaticSearchEntries","promiseDone","qex","relay-runtime/network/RelayObservable","sortMWChatSearchLocalEntries"],(function(a,b,c,d,e,f,g){"use strict";a=c("gkx")("4164");var h=a&&((e=c("qex")._("73"))!=null?e:!1),i=(f=c("qex")._("962"))!=null?f:a?10:0,j=a?10:0,k=d("MAWGating").isArmadillo()&&d("MAWGating").isTlcSearchEnabled();e=function(){function a(a){var b=a.database,c=a.excludedIDs;c=c===void 0?[]:c;var e=a.lightspeedSupportedTypes;e=e===void 0?d("MWLSSearchIssueSearchQuerySupportedTypes.bs").allSupportedTypes:e;var f=a.source;f=f===void 0?d("MWChatSearchIssueLightspeedQuery.bs").Surfaces.universal:f;var g=a.includeRecommendations;g=g===void 0?!0:g;var h=a.includeGroupSearch;h=h===void 0?!1:h;a=a.includeMessageSearchEntry;a=a===void 0?!0:a;this.$1=[];this.$5=function(){};this.$1=c;this.$2=f===d("MWChatSearchIssueLightspeedQuery.bs").Surfaces.omnipickerArmadillo?d("MWLSSearchIssueSearchQuerySupportedTypes.bs").armadilloSupportedTypes:e;this.$3=f;this.$4=b;this.$6=g;this.$7=h;this.$8=a;d("MWPSearchSystem.bs").makeAll(b)}var e=a.prototype;e.resolveData=function(a,b){b=b.map(c("createMWChatSearchTypeaheadDataEntry"));b=[].concat(this.$8&&a.query.length?[d("mwStaticSearchEntries").createMessageSearchEntry(a.query)]:[],b);var e=[],f=new Set();for(var b=b,g=Array.isArray(b),h=0,b=g?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var i;if(g){if(h>=b.length)break;i=b[h++]}else{h=b.next();if(h.done)break;i=h.value}i=i;f.has(i.key)||(e.push(i),f.add(i.key))}i=d("MWChatSearchThreadCutover").dedupeCutoverOpenThreads(k,e,this.$4);h={entries:i,params:a};g=c("mwChatSearchPayloadDecoratorRemoveExcluded")(this.$1);return c("mwChatSearchPayloadEnumerate")(g(h))};e.fetchNetwork=function(a){var e=this;this.$5();return c("relay-runtime/network/RelayObservable").create(function(f){if(a.query.length===0&&!e.$6){f.next({entries:[],params:a});f.complete();return}if(a.query.length===0){e.$5=d("MWChatSearchIssueLightspeedQuery.bs").requestRecommendations(e.$4,e.$2,e.$7,e.$3,a,function(b){b=c("filterXacContactsMWChatSearchLocalEntries")(b);f.next(e.resolveData(a,b));f.complete()});return}var g=[],k=[],l=!1,m=b("Promise").allSettled([b("cr:643")!=null?b("cr:643").fetchResults(e.$2,e.$3,e.$7,a):b("Promise").resolve([]),b("cr:1489")!=null&&(e.$3!==d("MWChatSearchIssueLightspeedQuery.bs").Surfaces.broadcast||h)?b("cr:1489").search(a.query,e.$7):b("Promise").resolve([])]).then(function(b){var d=b[0];b=b[1];d=d.status==="fulfilled"?d.value:[];b=b.status==="fulfilled"?b.value:[];b=i<=0?b:b.slice(0,i);d=j<=0?d:d.slice(0,j);g=b.concat(d);g=c("sortMWChatSearchLocalEntries")(g);g=c("filterXacContactsMWChatSearchLocalEntries")(g);l||f.next(e.resolveData(a,g.concat(k)))})["catch"](function(a){c("FBLogger")("messenger_search").catching(a).mustfix("Error performing MWChatSearchIssueMAWFTSQuery.fetchResults")}),n=d("MWChatSearchIssueLightspeedQuery.bs").requestResults(e.$4,e.$2,e.$3,e.$7,a,function(h){k=h;h=a.query.length>0&&d("MWPSearchSystem.bs").isDone()?m:b("Promise").resolve();c("promiseDone")(h["finally"](function(){f.next(e.resolveData(a,g.concat(k))),f.complete()}))});e.$5=function(){n(),l=!0}})};e.setExcludedIds=function(a){this.$1=a};return a}();g["default"]=e}),98);
__d("LsUniversalSearchResultSelectedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("95");b=d("FalcoLoggerInternal").create("ls_universal_search_result_selected",a);e=b;g["default"]=e}),98);
__d("MWJewelSearchTypeaheadHelper.bs",["I64"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=d("I64").to_int32(a.threadType),c=d("I64").to_int32(a.type_),e;switch(c){case 0:e=1;break;case 1:e=2;break;case 2:e=3;break;case 3:e=9;break;case 4:e=14;break;case 5:e=7;break;case 6:e=15;break;case 7:e=6;break;default:e=7}return{queryString:a.query,resultFbid:a.resultId,resultIndex:d("I64").to_string(a.globalIndex),resultType:d("I64").to_int32(a.type_),threadType:d("I64").to_int32(a.threadType),transportType:b!==0?b!==1?3:2:1,universalSearchResultType:e}}b=a;g.getLoggingValues=b}),98);
__d("UniversalSearchEndFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("844");b=d("FalcoLoggerInternal").create("universal_search_end",a);e=b;g["default"]=e}),98);
__d("UniversalSearchResultSelectedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("846");b=d("FalcoLoggerInternal").create("universal_search_result_selected",a);e=b;g["default"]=e}),98);
__d("MWSearchLogging",["LsUniversalSearchEndFalcoEvent","LsUniversalSearchResultSelectedFalcoEvent","MWJewelSearchTypeaheadHelper.bs","UniversalSearchEndFalcoEvent","UniversalSearchResultSelectedFalcoEvent","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h=function(a){if(a==="offline"||a==="offline_nullstate"||a==="secure")return[0];return a==="server"?[1,2]:[]};function a(a,b,e,f,g){var i=e.rawData;e=i.id;var j=2,k=3;i.isE2EE&&(j=0,k=1);var l=e,m=5,n=7;e=i.serverSearchResult;if(e!=null){e=d("MWJewelSearchTypeaheadHelper.bs").getLoggingValues(e);m=e.resultType;j=e.threadType;l=e.resultFbid}var o=((e=i.renderIndex)!=null?e:-1).toString();c("LsUniversalSearchResultSelectedFalcoEvent").log(function(){return{data_sources:h(i.searchSource),instance_id:a,recipient_ids:f,result_index_without_header:o,search_result:{query_string:b,result_fbid:l,result_index:o,result_type:m},thread_type:j,ui_section:0}});c("LsUniversalSearchEndFalcoEvent").log(function(){return{end_action:6,instance_id:a,recipient_ids:f,thread_type:j}});c("gkx")("4370")&&(c("UniversalSearchResultSelectedFalcoEvent").log(function(){return{data_sources:h(i.searchSource),is_epd:c("gkx")("4438")||i.isEPD,search_result:{query_string:b,result_fbid:l,result_index:o,result_type:n},session_id:a,transport_type:k,ui_section:1}}),g.current||(c("UniversalSearchEndFalcoEvent").log(function(){return{end_action:7,is_epd:c("gkx")("4438")||i.isEPD,session_id:a,transport_type:k}}),g.current=!0))}g.getDataSources=h;g.logResultSelected=a}),98);
__d("UniversalSearchQueryChangedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("843");b=d("FalcoLoggerInternal").create("universal_search_query_changed",a);e=b;g["default"]=e}),98);
__d("UniversalSearchStartFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("840");b=d("FalcoLoggerInternal").create("universal_search_start",a);e=b;g["default"]=e}),98);
__d("MessengerDebugOverlay.react",["fbt","I64","MessagingThreadType","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j={debug_overlay_block:{marginTop:"xr9ek0c",marginBottom:"xjpr12u",$$css:!0}},k=function(a){var b=Object.entries(c("MessagingThreadType")).filter(function(b){return b[1]===a});return b[0][0]};function a(a){a=a.rawData;var b="undefined";a.serverSearchResult!=null&&(b=k(d("I64").to_int32(a.serverSearchResult.threadType)));return i.jsxs("div",{style:j.debug_overlay_block,children:[i.jsxs("div",{children:[h._("__JHASH__XTPGN7Q8teR__JHASH__"),a.resultType]}),i.jsxs("div",{children:[h._("__JHASH__pgUGKyy7T9Y__JHASH__"),a.isE2EE.toString()]}),i.jsxs("div",{children:[h._("__JHASH__5mWNwl5tmCu__JHASH__"),b]}),i.jsxs("div",{children:[h._("__JHASH__2JdCmgbvVe7__JHASH__"),(b=a.serverSearchResult)==null?void 0:b.resultId]})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("UniversalSearchImpressionFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("845");b=d("FalcoLoggerInternal").create("universal_search_impression",a);e=b;g["default"]=e}),98);
__d("useUniversalSearchImpressionFalcoEvent",["MWSearchLogging","UniversalSearchImpressionFalcoEvent","emptyFunction","gkx","react","usePartialViewImpression"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useCallback;function a(a){var b=a.cm_group_id,e=a.entry,f=a.is_community_chat,g=a.is_opened_instance_id,i=a.query_string,j=e.rawData;a=j.id;var k=3,l=a,m=((e=j.renderIndex)!=null?e:-1).toString();a=h(function(){c("UniversalSearchImpressionFalcoEvent").log(function(){return{cm_group_id:b,data_sources:d("MWSearchLogging").getDataSources(j.searchSource),impression_selected:!1,is_epd:c("gkx")("4438")||j.isEPD,search_result:{query_string:i,result_fbid:l,result_index:m,result_type:7},session_id:g,transport_type:k,ui_section:13}})},[b,g,i,j.isEPD,j.searchSource,l,m]);return c("usePartialViewImpression")({onImpressionStart:f?a:c("emptyFunction")})}g["default"]=a}),98);
__d("MWJewelSearchTypeaheadViewItem.react",["fbt","ix","CometIcon.react","CometMiddot.react","CometPageVerificationIcon.react","CometTextWithIcon.react","CometTypeaheadViewItem.react","ConstUriUtils","CurrentEnvironment","I64","LSIntEnum","LSSearchType","MAWGating","MAWThreadCutover.bs","MDSLockSvgIcon.bs","MWCMIsAnyCMThread","MWChatFacepile.react","MWChatProfile.react","MWChatSearchResultType","MWSearchLogging","MessengerDebugOverlay.react","QPLUserFlow","TetraText.react","TetraTextPairing.react","UniversalSearchResultSelectedFalcoEvent","XCometMessengerControllerRouteBuilder","XMessengerDotComCometMainControllerRouteBuilder","cr:4538","cr:4539","deferredLoadComponent","fbicon","gkx","qex","qpl","react","requireDeferred","useCometRouterDispatcher","useUniversalSearchImpressionFalcoEvent","uuidv4"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k=d("react").useState,l=c("deferredLoadComponent")(c("requireDeferred")("MAWChatVerifyCutover.react").__setRef("MWJewelSearchTypeaheadViewItem.react")),m=d("MAWGating").isTlcSearchEnabled(),n={contentRoot:{borderTopStartRadius:"x1lq5wgf",borderTopEndRadius:"xgqcy7u",borderBottomEndRadius:"x30kzoy",borderBottomStartRadius:"x9jhf4c",marginTop:"xdj266r",marginBottom:"xat24cr",paddingTop:"x1y1aw1k",paddingEnd:"x1sxyh0",paddingBottom:"xwib8y2",paddingStart:"xurb0ha",":hover_backgroundColor":"x8du52y",$$css:!0},searchIcon:{paddingTop:"x123j3cw",paddingEnd:"x1mpkggp",paddingBottom:"xs9asl8",paddingStart:"x1t2a60a",$$css:!0},verifiedBadge:{paddingStart:"xurb0ha",$$css:!0}};function a(a){var e,f=a.entry,g=a.onPressEntry,o=a.queryString;a=babelHelpers.objectWithoutPropertiesLoose(a,["entry","onPressEntry","queryString"]);var p=f.rawData,q=p.id,r=p.imageUrl,s=p.isE2EE,t=p.isInstagramAccount,u=p.isInteropEligible,v=p.resultType,w=p.secondaryImageUrl,x=p.section,y=p.serverSearchResult,z=p.subtext;p=p.verificationStatus;var A=b("cr:4538")==null?void 0:b("cr:4538")(),B=b("cr:4539")==null?void 0:b("cr:4539")({onSuccess:function(a){return A==null?void 0:A(a)}}),C=y!=null&&y.threadType!=null&&c("MWCMIsAnyCMThread")(y.threadType),D=c("uuidv4")(),E=c("useUniversalSearchImpressionFalcoEvent")({entry:f,is_community_chat:C,is_opened_instance_id:D,query_string:o}),F=c("useCometRouterDispatcher")(),G=(y==null?void 0:y.threadType)!=null&&(d("I64").to_int32(y.threadType)===151||d("I64").to_int32(y.threadType)===155&&c("gkx")("6661"))&&(y==null?void 0:y.type_)!=null&&d("I64").to_int32(y.type_)===c("LSSearchType").RECOMMENDED_COMMUNITIES&&(y==null?void 0:y.threadJoinLinkHash)!=null,H=(y==null?void 0:y.threadType)!=null&&d("LSIntEnum").toNumber(y.threadType)===153,I=d("MAWThreadCutover.bs").useIsCutoverSecureThread(d("I64").of_string_opt(q));I=s&&!I?c("qex")._("203")?h._("__JHASH__PXg4X26-RXS__JHASH__"):h._("__JHASH__sZy-tIh1kQ2__JHASH__"):z;z=v==="messages"?j.jsx("div",{className:"x123j3cw x1mpkggp xs9asl8 x1t2a60a",children:j.jsx(c("CometIcon.react"),{color:"primary",icon:d("fbicon")._(i("491284"),24),size:24})}):w!==""?j.jsx(c("MWChatFacepile.react"),{firstParticipantURI:r,secondParticipantURI:w,size:36}):j.jsx(c("MWChatProfile.react"),{size:36,src:r});v=k();w=v[0];r=v[1];v=f.rawData.otherUserId;w=(w=w)!=null?w:q;e=(G||H)&&(y==null?void 0:y.threadJoinLinkHash)!=null?(e=d("ConstUriUtils").getUri(y==null?void 0:y.threadJoinLinkHash))==null?void 0:e.getPath().split("/").reverse()[1]:void 0;var J=c("CurrentEnvironment").facebookdotcom?c("XCometMessengerControllerRouteBuilder").buildURL({link_hash:e,thread_key:w}):c("XMessengerDotComCometMainControllerRouteBuilder").buildURL({link_hash:e,thread_key:w});e=f.rawData.resultType===c("MWChatSearchResultType").USER||f.rawData.resultType===c("MWChatSearchResultType").GROUP;v=babelHelpers["extends"]({},f,{key:w,rawData:babelHelpers["extends"]({},f.rawData,{id:w},v==null&&q!==w?{otherUserId:q}:{})});w=c("gkx")("8387");return j.jsx("div",{ref:E,children:j.jsxs(c("CometTypeaheadViewItem.react"),babelHelpers["extends"]({},a,{entry:v,isDisabled:t===!0&&u===!1,itemStartContent:z,linkProps:{preventLocalNavigation:!0,url:J},onPressEntry:G?function(){(y==null?void 0:y.threadJoinLinkHash)!=null&&(B==null?void 0:B(y.threadJoinLinkHash))}:H?function(){F==null?void 0:F.go(J,{})}:function(a,b){g(a,b),C===!0?(c("QPLUserFlow").endSuccess(c("qpl")._(25312244,"1683")),c("UniversalSearchResultSelectedFalcoEvent").log(function(){var a;return{data_sources:d("MWSearchLogging").getDataSources(f.rawData.searchSource),is_epd:c("gkx")("4438")||f.rawData.isEPD,search_result:{query_string:o,result_fbid:f.rawData.id,result_index:((a=f.rawData.renderIndex)!=null?a:-1).toString(),result_type:7},session_id:D,transport_type:3,ui_section:13}})):c("QPLUserFlow").endCancel(c("qpl")._(25312244,"1683"))},testid:void 0,xstyle:n.contentRoot,children:[m===!0&&e?j.jsx(l,{id:q.toString(),updateThreadKey:r}):null,j.jsx(c("TetraTextPairing.react"),{body:j.jsxs(c("TetraText.react"),{numberOfLines:1,type:"body3",children:[f.label,p!=null?j.jsx("span",{className:"xurb0ha",children:j.jsx(c("CometPageVerificationIcon.react"),{size:"small",verificationBadge:p})}):null]}),level:3,meta:I&&I!==""?j.jsx(c("TetraText.react"),{numberOfLines:1,type:"meta4",children:j.jsxs(c("CometTextWithIcon.react"),{iconBefore:s&&!c("qex")._("203")?j.jsx(c("MDSLockSvgIcon.bs"),{color:"primary",size:12}):null,children:[I,(x==null||x==="")&&Boolean(f.rawData.isInstagramAccount)?j.jsxs(j.Fragment,{children:[j.jsx(c("CometMiddot.react"),{}),"Instagram"]}):null]})}):null}),w?j.jsx(c("MessengerDebugOverlay.react"),{rawData:v.rawData}):null]}))})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("createMWJewelSearchTypeaheadViewStrategy.react",["CometTypeaheadProgressGlimmer.react","MWJewelLightspeedSearchTypeaheadViewList.react","MWJewelSearchEmptyState.react","MWJewelSearchTypeaheadViewItem.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){return function(b){var d=b.ariaProps,e=b.entries;b.extraViewProps;var f=b.highlightedEntry,g=b.isLoading;b.onAbandonTypeahead_DO_NOT_USE;var i=babelHelpers.objectWithoutPropertiesLoose(b,["ariaProps","entries","extraViewProps","highlightedEntry","isLoading","onAbandonTypeahead_DO_NOT_USE"]);b=e.length===0&&i.queryString.length>0;g=e.length>0&&g;return b?h.jsx(c("MWJewelSearchEmptyState.react"),{queryString:i.queryString}):h.jsxs(h.Fragment,{children:[h.jsx(c("MWJewelLightspeedSearchTypeaheadViewList.react"),{ariaProps:d,entries:e,highlightedEntry:f,xstyle:a,children:function(a){var b=a.entry,d=a.isActive;a=a.itemRole;return h.createElement(c("MWJewelSearchTypeaheadViewItem.react"),babelHelpers["extends"]({},i,{entry:b,isActive:d,key:b.key,role:a}))}}),g&&h.jsx(c("CometTypeaheadProgressGlimmer.react"),{})]})}}g["default"]=a}),98);
__d("MWJewelSearchSubscriptionTypeahead.react",["fbt","BaseSubscriptionTypeahead.react","CometTypeaheadBackButton.react","CometTypeaheadInputRoundedStrategy.react","CometTypeaheadLayoutContextualStrategy.react","LsUniversalSearchEndFalcoEvent","LsUniversalSearchQueryChangedFalcoEvent","LsUniversalSearchStartFalcoEvent","MAWGating","MWChatSearchIssueLightspeedQuery.bs","MWChatSearchTypeaheadLightspeedSubscriptionDataSource","MWLSSearchIssueSearchQuerySupportedTypes.bs","MWLSThreadDisplayContext","MWPSearchSystem.bs","MWSearchLogging","UniversalSearchEndFalcoEvent","UniversalSearchQueryChangedFalcoEvent","UniversalSearchStartFalcoEvent","clearTimeout","createMWJewelSearchTypeaheadViewStrategy.react","gkx","react","setTimeout","useReStore","uuidv4"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");b=d("react");var j=b.useCallback,k=b.useMemo,l=b.useRef,m=b.useState,n={searchInput:{marginTop:"x1xmf6yo",marginEnd:"x11i5rnm",marginBottom:"x1e56ztr",marginStart:"x1mh8g0r",paddingTop:"xexx8yu",paddingEnd:"x1pi30zi",paddingBottom:"x18d9i69",paddingStart:"x1swvt13",$$css:!0},searchView:{borderTopStartRadius:"x1lq5wgf",borderTopEndRadius:"xgqcy7u",borderBottomEndRadius:"x30kzoy",borderBottomStartRadius:"x9jhf4c",boxShadow:"x1gnnqk1",display:"x78zum5",minHeight:"x1vvvjs8",$$css:!0}},o=c("createMWJewelSearchTypeaheadViewStrategy.react")(),p=["1001"],q=c("gkx")("6395"),r=c("gkx")("4438"),s=c("gkx")("4370");function a(a){var b=a.onBlur,e=a.onChange,f=a.onFocus,g=a.onPressEntry,t=a.onSelectFreeformQuery,u=babelHelpers.objectWithoutPropertiesLoose(a,["onBlur","onChange","onFocus","onPressEntry","onSelectFreeformQuery"]);a=m(null);var v=a[0],w=a[1],x=l(null),y=c("useReStore")(),z=l(!1),A=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext();a=k(function(){return new(c("MWChatSearchTypeaheadLightspeedSubscriptionDataSource"))({database:y,excludedIDs:[],includeGroupSearch:A!=="ChatTab"&&c("gkx")("1902857"),includeMessageSearchEntry:!1,includeRecommendations:!0,lightspeedSupportedTypes:d("MWLSSearchIssueSearchQuerySupportedTypes.bs").allSupportedTypes,source:d("MWChatSearchIssueLightspeedQuery.bs").Surfaces.universal})},[y,A]);var B=j(function(){w(null),v!=null&&(c("LsUniversalSearchEndFalcoEvent").log(function(){return{end_action:0,instance_id:v,recipient_ids:p}}),s&&(z.current||(x.current!=null&&(c("clearTimeout")(x.current),x.current=null),c("UniversalSearchEndFalcoEvent").log(function(){return{end_action:8,is_epd:r,session_id:v,transport_type:null}}),z.current=!0))),e("")},[e,v]),C=j(function(a){var b=function(){x.current!=null&&(c("clearTimeout")(x.current),x.current=null),g!=null&&g(a)};if(v==null){b();return}d("MWSearchLogging").logResultSelected(v,u.queryString,a,p,z);b()},[g,v,u.queryString]),D=j(function(){q&&d("MWPSearchSystem.bs").clearAll(y);var a=c("uuidv4")();w(a);z.current=!1;c("LsUniversalSearchStartFalcoEvent").log(function(){return{instance_id:a}});s&&(c("UniversalSearchStartFalcoEvent").log(function(){return{is_epd:r,session_id:a}}),c("UniversalSearchQueryChangedFalcoEvent").log(function(){return{query_length:"0",query_string:null,session_id:a}}));x.current=c("setTimeout")(function(){w(null),c("LsUniversalSearchEndFalcoEvent").log(function(){return{end_action:3,instance_id:a,recipient_ids:p}}),s&&(z.current||(c("UniversalSearchEndFalcoEvent").log(function(){return{end_action:8,is_epd:r,session_id:a,transport_type:null}}),z.current=!0))},3e4)},[y]),E=j(function(a){v!=null&&(c("LsUniversalSearchQueryChangedFalcoEvent").log(function(){return{instance_id:v,query_string:a}}),s&&c("UniversalSearchQueryChangedFalcoEvent").log(function(){return{query_length:a.length.toString(),query_string:a,session_id:v}})),e(a)},[e,v]);return i.jsx(c("BaseSubscriptionTypeahead.react"),{dataSource:a,dataSourceFetchConfigParams:d("MAWGating").isArmadillo()?{requestFlow:"network-upon-approve"}:void 0,inputExtraProps:{hideIconAnimation:!0,hideIconOnFocus:!0},inputStartContent:v?i.jsx(c("CometTypeaheadBackButton.react"),{testid:void 0}):null,inputStrategyRenderer:c("CometTypeaheadInputRoundedStrategy.react"),layoutStrategyRenderer:c("CometTypeaheadLayoutContextualStrategy.react"),loggingContext:"messenger_jewel",onBlur:b,onChange:E,onClose:B,onFocus:f,onOpen:D,onPressEntry:C,onSelectFreeformQuery:t,placeholder:h._("__JHASH__ktsKn3dbNLm__JHASH__"),queryString:u.queryString,shouldHandleCloseAfterHandlePressEntry:!0,shouldQueryStringUpdateFromSelectedEntryOnClick:!1,viewStrategyRenderer:o,xstyles:{inputXStyle:n.searchInput,viewXStyle_DO_NOT_USE:n.searchView}})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useMWJewelThreadListSearchTypeahead.react",["MWPSearchSystem.bs","QPLUserFlow","cr:3070","cr:5148","emptyFunction","gkx","qex","qpl","react","setTimeoutCometSpeculative","useCometPreloader","useMWChatOpenTabForGroup","useMWChatOpenTabForPage","useMWChatOpenTabForUser","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");e=d("react");var i=e.useCallback,j=e.useEffect,k=e.useMemo,l=b("cr:5148")||function(a,b){},m=c("gkx")("4164");function a(a,e,f,g,n){var o=c("useMWChatOpenTabForGroup")("jewelSearch"),p=o[0];o[1];var q=c("useMWChatOpenTabForPage")("jewelSearch");o=c("useMWChatOpenTabForUser")("jewelSearch");var r=o[0];o[1];var s=o[2],t=l(g,n),u=c("useReStore")(),v=i(function(){return d("MWPSearchSystem.bs").makeAll(u)},[u]);j(function(){if(m){var a;a=(a=c("qex")._("2154"))!=null?a:1e4;c("setTimeoutCometSpeculative")(v,a)}});var w=i(function(a){a=a.rawData;var b=a.id,c=a.otherUserId;a=a.resultType;switch(a){case"group":p(b);break;case"user":c!=null?s(b,!0):r(b,!1);break;case"page":q(b);break}n()},[n,p,q,r,s]);o=c("useCometPreloader")("button_aggressive",c("emptyFunction"),v);var x=o[0],y=o[1];return k(function(){return h.jsx("div",{onMouseEnter:x,onMouseLeave:y,children:h.jsx(b("cr:3070"),{onBlur:function(){return a(!1)},onChange:e,onFocus:function(){a(!0),v(),c("QPLUserFlow").start(c("qpl")._(25312244,"1683"))},onPressEntry:w,onSelectFreeformQuery:t,queryString:f})})},[x,y,e,t,w,f,a,v])}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useHasUnjoinedCMThreads",["LSIntEnum","ReQL","ReQLSuspense","useReStore"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=c("useReStore")();return!!d("ReQLSuspense").useFirst(function(){return d("ReQL").union(d("ReQL").fromTableDescending(a.table("threads").index("threadTypeLastActivityTimestampMs")).getKeyRange(d("LSIntEnum").ofNumber(24)),d("ReQL").fromTableDescending(a.table("threads").index("threadTypeLastActivityTimestampMs")).getKeyRange(d("LSIntEnum").ofNumber(19)))},[a],f.id+":24")}g["default"]=a}),98);
__d("MWThreadListMarketplaceItem.react",["fbt","ix","LSIntEnum","MWPBumpEntityKey","MWThreadListFolderItem.react","MWXIcon.react","fbicon","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react");function a(a){var b=a.onClick,e=a.responsive,f=a.selectedThreadKey,g=a.size;a=a.thread;return j.jsx(c("MWThreadListFolderItem.react"),{icon:j.jsx(c("MWXIcon.react"),{color:"primary",icon:d("fbicon")._(i("1027308"),32),size:48}),onClick:function(){b(d("LSIntEnum").ofNumber(-12));return d("MWPBumpEntityKey").bumpEntityKeyWithAppId("mw.sidebar","marketplace_threads")},responsive:e,selectedThreadKey:f,size:g,systemFolder:d("LSIntEnum").ofNumber(-12),thread:a,threadName:h._("__JHASH__0Ktcc3EsRI7__JHASH__").toString()})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("bs_belt_Id",["bs_curry"],(function(a,b,c,d,e,f){"use strict";function a(a){return a}function c(a){a=a.cmp;a=b("bs_curry").__2(a);return{cmp:a}}function d(a){return{cmp:a}}function e(a){a=b("bs_curry").__2(a);return{cmp:a}}function g(a){return a}function h(a){var c=a.hash;c=b("bs_curry").__1(c);a=a.eq;a=b("bs_curry").__2(a);return{hash:c,eq:a}}function i(a,b){return{hash:a,eq:b}}function j(a,c){a=b("bs_curry").__1(a);c=b("bs_curry").__2(c);return{hash:a,eq:c}}f.MakeComparableU=a;f.MakeComparable=c;f.comparableU=d;f.comparable=e;f.MakeHashableU=g;f.MakeHashable=h;f.hashableU=i;f.hashable=j}),null);